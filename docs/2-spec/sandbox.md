# Sandbox Specification

**Status:** skeleton
**Last Updated:** 2026-02-07

## Upstream References
- PRD: §4.6 (Sandbox Primitives), §6.4 (Preflight Checks)
- Reader: Changeset vs worktrees
- Transcripts: —

## Downstream References
- ADR: —
- Code: Not yet implemented
- Tests: —

---

## 1. Overview
Sandbox primitives for file protection, preflight checks, and the changeset model. Defines how agents operate within safe boundaries, how file mutations are validated before application, and the tradeoffs between changeset-based and worktree-based isolation.

## 2. Requirements

### REQ-SBX-001: [Sandbox Primitives]
**Source:** PRD §4.6
**Priority:** must-have
**Status:** specified

[To be filled]

### REQ-SBX-002: [Preflight Checks]
**Source:** PRD §6.4
**Priority:** must-have
**Status:** specified

[To be filled]

### REQ-SBX-003: [Changeset Model]
**Source:** PRD §4.6
**Priority:** should-have
**Status:** specified

[To be filled]

## 3. Behavior
[To be specified — state diagrams, interaction sequences, etc.]

## 4. Open Questions
[From PRD §14 + transcripts — to be filled]

## 5. Coverage Gaps
[Known missing areas needing human input or further design]
