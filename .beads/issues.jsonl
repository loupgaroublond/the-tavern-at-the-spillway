{"id":"the-tavern-at-the-spillway-0cy","title":"SDK streaming integration","description":"Wire up ClodeMonster SDK's AsyncSequence streaming to the chat pipeline. Replace batch-only response handling with streaming consumption.","acceptance_criteria":"SDK streaming connected. Tokens arrive progressively through the pipeline.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:55.946733-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:55.946733-08:00","labels":["sdk","streaming","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0cy","depends_on_id":"the-tavern-at-the-spillway-jhm","type":"parent-child","created_at":"2026-02-07T19:44:55.948786-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0fi","title":"Hygiene daemons — cleanup of dead agents, stale overlays, orphaned resources","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDaemons handle cleanup: dead agents, old changesets, stale overlays, orphaned workflows/documents/resources. Initially manual cleanup, sophisticated reaping later.\n\nSources: PRD section 6.6 (Hygiene), reader section 8 (Dead Agents Leave Bodies).\n\nKey questions: What triggers cleanup — periodic or event-driven? What is the retention policy for dead agents? How long do bodies persist? Is this a monitor daemon or separate system?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:12.70872-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:12.70872-08:00","labels":["agents","lifecycle","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0fi","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.71422-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0o6","title":"Inter-agent message storage — messaging infrastructure in doc store","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDoc store serves as messaging system (with supporting daemons). Need message storage, routing, delivery confirmation. Messages between agents stored in doc store files.\n\nSources: reader section 7 (Document Store as messaging system), project-status.md Doc Store Remaining (Inter-agent message storage), reader section 9 (Communication Patterns).\n\nKey questions: Message format (markdown? structured data?)? One file per message or conversation log? How does delivery confirmation work? Ordering guarantees? TTL for messages?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:12.871482-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:12.871482-08:00","labels":["communication","docstore","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0o6","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.834036-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0ps","title":"Discovery sharing — agents noticing and reporting oddities","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents (even drones) prompted to notice oddities and share them via messaging while continuing main task. Cannot enforce via deterministic hook — relies on prompt engineering encouraging curiosity and social behavior.\n\nSources: PRD section 9.3 (Discovery Sharing).\n\nKey questions: What message format for discoveries? Where are they stored — doc store, separate log? How does user review discoveries? Priority of discoveries vs main task?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:41.894913-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:41.894913-08:00","labels":["agents","communication","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0ps","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.71928-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0py","title":"Optimize resource panel UX and UI","description":"The resource panel v1 is functional but needs UX/UI polish. Areas to evaluate: visual hierarchy, spacing, colors, file tree row hover states, selection affordances, scroll behavior, panel resize handles, header styling, file content view typography, and overall integration with the rest of the Tavern UI. The current implementation is bare-bones — it works but does not feel refined.","acceptance_criteria":"Resource panel looks and feels like a native macOS sidebar with polished interactions, consistent with the rest of the Tavern app aesthetic.","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T20:53:01.230651-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T20:53:01.230651-08:00","labels":["resource-panel","ui","ux"]}
{"id":"the-tavern-at-the-spillway-0xr","title":"Calling and hanging up — user joining/leaving agent sessions","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWhen user zooms into an agent, system injects a calling message. When user zooms out, agent receives hanging up message and knows not to pause for interaction. This toggles between chat mode (active conversation) and perseverance mode (background).\n\nSources: reader section 4 (Zooming In and Out), PRD section 5.2 (Calling and Hanging Up), reader open question ?6.\n\nKey questions: What does the injected message look like? Is it a tool call or a text message? Does the agent acknowledge? What happens if user calls while agent is mid-response?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.609934-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.609934-08:00","labels":["agents","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0xr","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.887603-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-15i","title":"Plugin system — closed set of agent types and spawners","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nPlugins registered at startup, not dynamically loaded. All agent types known at compile time. This provides security, simplicity, and type safety. Need a registration mechanism for agent types and their spawners.\n\nSources: ADR-001 shape I (Plugin), reader section 5 Architecture Notes, CLAUDE.md Architecture Principles (Closed Plugin Set), project-status.md Architecture Remaining.\n\nKey questions: What agent types exist beyond Jake and MortalAgent? How does registration work? Is this a protocol + registry pattern? How do Gang of Experts fit in?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:08.816621-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:08.816621-08:00","labels":["architecture","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-15i","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.128179-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-1cb","title":"Fill spec: quality.md (REQ-QA)","description":"Fill docs/2-spec/quality.md with concrete requirements from PRD §17 (Testability Requirements), §19 (Development Standards), §21 (Performance Requirements). Cover 5 testing principles, perception-bounded performance, logging and stress testing standards.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:10.514883-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:10.514883-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-1cb","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:10.516974-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-24m","title":"Error block styling polish","description":"Error blocks get distinctive error styling — red border/background, error icon, clear error message formatting.","acceptance_criteria":"Errors immediately recognizable. Error message clearly formatted and readable.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:51.914923-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:51.914923-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-24m","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:51.917079-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-28x","title":"Saved layouts — named templates and concrete snapshots","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTwo types of saved layouts: abstract templates (structure without specific agents) and concrete snapshots (specific agents, specific state). Session restore is automatic; saved layouts are intentional.\n\nSources: reader section 8 (Persistence), project-status.md Dynamic View Architecture Remaining, transcript_2026-01-21-2345.\n\nKey questions: Storage format? Template vs snapshot distinction in practice? How does a template get populated with real agents? Can layouts be shared via .tavern/?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.541266-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.541266-08:00","labels":["persistence","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-28x","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.229302-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2ah","title":"Epic 7: Management UIs (agents/hooks/mcp)","description":"View and manage agents, hooks, and MCP servers. /agents, /hooks, /mcp commands with substantial UIs.","design":"Each management command renders as a sheet/popover or dedicated pane. /agents: list, configure, manage custom subagents. /hooks: view/edit lifecycle hooks. /mcp: MCP server status, add/remove/reconnect.","acceptance_criteria":"All three management UIs functional. Agent list shows status and config. Hooks editable. MCP servers show connection status with reconnect capability.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:42.508391-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:42.508391-08:00","labels":["commands","management","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2ah","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"blocks","created_at":"2026-02-07T19:44:19.298893-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2bc","title":"Background agent execution — autonomous work without user focus","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Agents should be able to work autonomously in the background while the user focuses elsewhere. Currently agents only respond to direct messages. Background execution enables the full multi-agent vision where many agents work in parallel. Related beads: sidecar pattern (vfx) provides the I/O architecture, perseverance mode (pbt) covers retry/lifecycle, but neither explicitly covers the user-facing concept of agents working while you do other things. Sources: CLAUDE.md Not Implemented, PRD section on agent lifecycle, reader section 3. Key questions: What triggers background work? Task queue? Parent agent delegation? How does the user know background work is happening? Notification when done? How does this interact with token budgets (yte)?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:55:04.313536-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:04.313536-08:00","labels":["agents","core","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2bc","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:55:04.316073-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2e0","title":"Streaming indicator","description":"Visual cue that a response is still arriving. Typing indicator, pulsing cursor, or similar. Disappears when stream completes.","acceptance_criteria":"Indicator visible during streaming. Disappears on completion. Clear visual signal.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:56.302472-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:56.302472-08:00","labels":["streaming","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2e0","depends_on_id":"the-tavern-at-the-spillway-jhm","type":"parent-child","created_at":"2026-02-07T19:44:56.304656-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2mo","title":"/mcp — MCP server status, add/remove/reconnect","description":"Management UI for MCP servers. Show connection status for each server. Add new servers, remove existing, trigger reconnection.","acceptance_criteria":"/mcp shows server connection status. Add/remove/reconnect all functional. Status updates in real-time.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:54.516643-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:54.516643-08:00","labels":["commands","management","mcp","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2mo","depends_on_id":"the-tavern-at-the-spillway-2ah","type":"parent-child","created_at":"2026-02-07T19:45:54.518907-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2ni","title":"Violation monitoring — configurable per-agent rules and enforcement","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDynamic violation list configurable per-project or per-agent. Examples: modifying files outside designated directories, exceeding token budgets, spawning more than N children, accessing network when disallowed, running commands on blocklist. When detected: log, notify parent/user, optionally pause/reap/warn.\n\nSources: PRD section 16 (Violation Monitoring).\n\nKey questions: How are rules specified (config file, code, both)? Real-time monitoring or post-hoc? What is the enforcement mechanism — hooks, sandbox, or agent-level checks? Agents cannot modify their own violation rules — how is this enforced?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.200527-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.200527-08:00","labels":["agents","safety","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2ni","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.176284-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2pt","title":"Copy button on code blocks","description":"Code blocks (fenced code in markdown responses) get a copy-to-clipboard button. Appears on hover or always visible in corner.","acceptance_criteria":"Copy button visible on code blocks. Clicking copies code content to clipboard. Visual feedback on copy.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:52.067173-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:52.067173-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2pt","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:52.069291-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2yy","title":"/agents — agent list, configure, manage","description":"Management UI for agents. List all configured subagents, their types, status. Allow adding/removing/configuring custom subagent definitions.","acceptance_criteria":"/agents opens agent management UI. Lists agents with status. Configuration editable.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:54.224443-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:54.224443-08:00","labels":["commands","management","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2yy","depends_on_id":"the-tavern-at-the-spillway-2ah","type":"parent-child","created_at":"2026-02-07T19:45:54.226265-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-3p9","title":"Fill spec: deterministic-shell.md (REQ-DET)","description":"Fill docs/2-spec/deterministic-shell.md with concrete requirements from PRD §4.7 (Deterministic Shell). Cover commitment verification, JakeToolHandler protocol, continuation loop.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:51.503563-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:51.503563-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-3p9","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:51.505836-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-3q0","title":"Fill spec: communication.md (REQ-COM)","description":"Fill docs/2-spec/communication.md with concrete requirements from PRD §5.3 (Bubbling), §5.5 (Question Triage). Cover Jake JSON format, lateral collaboration, question surfacing.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:51.66351-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:51.66351-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-3q0","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:51.66553-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-462","title":"Slash command parser and dispatcher","description":"Parse input starting with / as commands. Dispatch to registered command handlers. Unknown commands show error. Infrastructure for registering commands with name, description, handler.","acceptance_criteria":"/ prefix triggers command parsing. Registered commands dispatch correctly. Unknown commands show helpful error. Command registration API clean and extensible.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.146099-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.146099-08:00","labels":["commands","infrastructure","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-462","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.148017-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-4ij","title":"Fill spec: user-experience.md (REQ-UX)","description":"Fill docs/2-spec/user-experience.md with concrete requirements from PRD §5.1 (The Core Loop), §5.4 (UI Principles), §8 (Progressive Unlocks). Cover multi-window, project-as-document, content blocks.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:01.174018-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:01.174018-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-4ij","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:01.177191-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-4lh","title":"Fill spec: workflows.md (REQ-WRK)","description":"Fill docs/2-spec/workflows.md with concrete requirements from PRD §10 (Workflows), §11 (Gang of Experts), §6.5 (Merge Queue). Cover workflow engine, spec engine, gang of experts pattern. Not yet implemented.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:01.667385-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:01.667385-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-4lh","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:01.670121-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-5ft","title":"iCloud personal state storage — sync preferences across machines","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nPersonal state (session IDs, window positions, persisted agent list) currently in UserDefaults. Could sync via iCloud for cross-machine continuity.\n\nSources: project-status.md Document-Based Architecture Remaining, reader section 7 (Session Storage Layers - layer 3).\n\nKey questions: What state is worth syncing? iCloud KV store vs CloudKit? Conflict resolution? Does this conflict with the known iCloud corruption issue with Xcode projects?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:13.028749-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:13.028749-08:00","labels":["persistence","tavern","ux"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-5ft","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.9546-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-60c","title":"Timestamps on messages","description":"Each message shows a timestamp. Could be subtle/muted text. Relative time (2m ago) or absolute (14:32) TBD.","acceptance_criteria":"Every message displays a timestamp. Timestamps update or are accurate.","status":"open","priority":3,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:52.222052-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:52.222052-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-60c","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:52.224808-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-67c","title":"Tool approval dialog UI","description":"When a tool call requires approval, show inline dialog with tool name, parameters, and Allow/Deny buttons. Must integrate with SDK canUseTool callback.","acceptance_criteria":"Tool calls trigger approval dialog. Dialog shows tool name and parameters. Allow/Deny buttons functional. Response sent back to SDK.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:16.823521-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:16.823521-08:00","labels":["permissions","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-67c","depends_on_id":"the-tavern-at-the-spillway-m3o","type":"parent-child","created_at":"2026-02-07T19:45:16.82573-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-687","title":"Visual distinction between message types","description":"Each message type (text, tool_use, tool_result, thinking, error) gets distinct visual treatment — colored boxes, borders, cards. Exact styling TBD via experimentation.","acceptance_criteria":"All MessageType variants render with distinct visual identity. Clear at a glance which type a block is.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:50.865728-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:50.865728-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-687","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:50.868606-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-6ap","title":"Resource panel / file viewer — IDE-lite right-side panel","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nRight-side panel showing file tree, file contents, and diffs alongside chat. Goal: make Tavern usable as a standalone dev environment at v1.5 without needing a separate IDE.\n\nSources: resource-viewer session (Feb 6), ideation for resource panel feature.\n\nKey questions: What file types need rendering? Syntax highlighting approach? How do agent file changes surface in the panel? Read-only or editable? How does this interact with the doc store / shared workspace pattern?","status":"closed","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:32.32481-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:21.367294-08:00","closed_at":"2026-02-06T17:55:21.367294-08:00","close_reason":"Duplicate of the-tavern-at-the-spillway-my4","labels":["tavern","ui","v1.5"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-6ap","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:32.327648-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-6eg","title":"/stats — usage visualization","description":"Implement /stats showing session usage visualization — messages sent, tool calls made, time elapsed, cost over time.","acceptance_criteria":"/stats displays session statistics in visual format.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:38.138164-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:38.138164-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-6eg","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:38.13982-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-6ts","title":"Epic 8: Side Pane — TODOs \u0026 Background Tasks","description":"Side pane shows TODOs and background tasks alongside the chat. Coordinates with file viewer pane work (another agent building that infrastructure).","design":"Add content tabs to existing side pane infrastructure. /todos tab shows task list. /bashes tab shows background task list with status. Task management: view output, stop task.","acceptance_criteria":"Side pane has TODO and background task tabs. Background tasks show live status. Can view output and stop tasks from the pane.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:46.844462-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:46.844462-08:00","labels":["side-pane","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-6ts","depends_on_id":"the-tavern-at-the-spillway-my4","type":"relates-to","created_at":"2026-02-07T19:47:12.066623-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-6up","title":"Self-improvement — measurement, workflow evolution, meta process","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nNo self-improvement exists currently. Options range from better logging to ML-based prompt optimization to evolutionary workflow design. Meta process: decision layer for selecting which workflows/tools to use for a given task.\n\nSources: reader open question ?3 (Self Improvement Definition), PRD section 9.2 (Meta Process), notes_issues-to-plan-for item 5 (No self-improvement).\n\nKey questions: What does self-improvement mean concretely for v1? Performance tracking and manual adjustment? Automated A/B testing of prompts? Learning from successful vs failed agent runs?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.529093-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.529093-08:00","labels":["meta","observability","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-6up","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.454708-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-72v","title":"Fill spec: invariants.md (REQ-INV)","description":"Fill docs/2-spec/invariants.md with concrete requirements from PRD §2 (Invariants). 8 hard-enforced invariants to formalize.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:41.452868-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:41.452868-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-72v","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:41.454601-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7dg","title":"Programmatic GUI testing — XCTest UI and log-based verification","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nNeed programmatic GUI testing infrastructure. Headless testing philosophy: tests run without human interaction, end-to-end over stubs, testing strategy IS debugging strategy. Also need log-based automated verification and performance regression baselines.\n\nSources: transcript_2026-01-23-headless-testing, project-status.md Build and Testing Remaining, PRD section 17 (Testability Requirements).\n\nKey questions: XCTest UI vs alternative? How to headlessly test SwiftUI views? Baseline methodology? Integration with redo build system?","status":"open","priority":3,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.852192-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.852192-08:00","labels":["infrastructure","tavern","testing"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7dg","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.47686-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7g5","title":"Argument substitution in custom commands","description":"Custom command .md files support $ARGUMENTS (full args), $1, $2, etc. placeholders. Substituted at execution time.","acceptance_criteria":"$ARGUMENTS replaced with full argument string. $1, $2 etc. replaced with positional args. Missing args handled gracefully.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:46.812527-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:46.812527-08:00","labels":["commands","customization","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7g5","depends_on_id":"the-tavern-at-the-spillway-l2q","type":"parent-child","created_at":"2026-02-07T19:45:46.81484-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7g6","title":"Streaming responses — replace batch-only with real-time UI","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Currently Jake and mortal agents return batch responses only. Need real-time streaming to the UI with typewriter effect. The SDK (ClodeMonster) returns ClaudeQuery as AsyncSequence of StdoutMessage, which supports streaming. Sources: CLAUDE.md Not Implemented, project-status.md Chat and UI Remaining, PRD section 5.1, transcript_2026-01-24-async-primitives (AsyncStream strategy). Key questions: What does the streaming UI look like? Typewriter per-character or per-token? How do content blocks (thinking, tool_use) render during streaming? How does this interact with the batching strategy?","status":"open","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:58:26.071687-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:58:26.071687-08:00","labels":["core","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7g6","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T22:59:07.850441-08:00","created_by":"Yaakov M Nemoy"},{"issue_id":"the-tavern-at-the-spillway-7g6","depends_on_id":"the-tavern-at-the-spillway-jhm","type":"relates-to","created_at":"2026-02-07T19:47:11.652372-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7nl","title":"Slash command autocomplete in input","description":"Typing / in input field shows autocomplete popup listing available commands with descriptions. Filters as user types. Tab/Enter selects.","acceptance_criteria":"/ triggers autocomplete. Commands listed with descriptions. Filtering works. Selection inserts command.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.292461-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.292461-08:00","labels":["commands","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7nl","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.294873-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7ou","title":"User consent for new chats — concrete consent UX","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nPRD invariant 4: User attention is sacred. Never force new content on user without consent. What does 100% clear theyre OK with it mean concretely? User preference settings? Contextual inference? Per-agent consent?\n\nSources: reader open question ?7 (User Consent for New Chats), PRD invariant 4.\n\nKey questions: Settings panel for notification preferences? Auto-accept from Jake but confirm from others? Context-dependent (during active session vs background)? How does this interact with bubbling?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:42.050942-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:42.050942-08:00","labels":["tavern","ui","ux"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7ou","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.845812-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-84c","title":"Inter-agent communication — bubbling, lateral messaging, direct-to-user","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents need to communicate: upward (child to parent to user), laterally (siblings collaborating), and directly to user (with oversight). Currently no inter-agent messaging exists.\n\nSources: reader section 3 (Bubbling), reader section 9 (Agent Communication, Message Protocol), reader open question ?5 (Bubbling Up Process), PRD section 5.3 (Bubbling), notes_issues-to-plan-for item 1 (Context handoff).\n\nKey questions: Does child ask parent who decides to escalate? Can messages skip levels? Is there prioritization? How does lateral collaboration work concretely? What is stored in doc store vs ephemeral?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.450796-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.450796-08:00","labels":["agents","communication","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-84c","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.76542-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-8wt","title":"Drones and monitor daemons — lightweight agent types","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDrones: Meeseeks-style single-task agents. One task then terminate. Cheap models, cheap to fail. Monitor Daemons: background agents that work for Jake, monitoring health/progress/spending.\n\nSources: PRD section 4.1 (Agent Types table), PRD section 6.6 (Hygiene), reader section 3.\n\nKey questions: What model for drones (Haiku)? What triggers drone creation? What do monitor daemons actually monitor? How do drones differ from Task subagents? Cost model for drones?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:46.67402-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:46.67402-08:00","labels":["agents","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-8wt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.126097-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-96m","title":"SDK testing strategy — restore testability after ClodeMonster migration","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nClodeMonster SDK uses static functions (ClaudeCode.query) with no dependency injection point. Multiple test files have TODO comments: 'These tests need dependency injection or SDK mocking to work.' Affects: JakeTests, ChatViewModelTests, ServitorTests, TavernCoordinatorTests, ChatStressTests, ConcurrencyStressTests, SDKDiagnosticTests.\n\nSources: All TODO comments in Tests/**/*.swift, transcript_2026-02-01-sdk-migration-and-session-forensics (testing impact section), reader section 5 SDK Migration.\n\nKey questions: Protocol wrapper around static SDK? Test-only subclass? Process-level mocking? Do we push upstream for DI support in ClodeMonster?","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:30.082859-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:30.082859-08:00","labels":["sdk","tavern","testing"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-96m","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.38992-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-9f9","title":"Work queues — drone dispatch and queue mechanics in doc store","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWork queues live in the document store. When items appear, drones fire immediately. Agents attach at spawn or mid-task. Need: queue creation, item addition, drone dispatch, empty-queue instructions (idle, hibernate, terminate).\n\nSources: reader section 7 (Document Store as work queues), reader open question ?19 (Work Queues), PRD section 6.3 (Work Queues), project-status.md Doc Store Remaining.\n\nKey questions: Full specification of queue mechanics? Priorities and dependencies within queues? File format for queue items? How does drone dispatch work — filesystem watcher or polling?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:09.158029-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:09.158029-08:00","labels":["agents","docstore","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-9f9","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.369908-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-9fq","title":"/status — version, model, account, connectivity","description":"Implement /status showing app version, current model, account info, and API connectivity status.","acceptance_criteria":"/status displays version, model, account, and connectivity. All fields accurate.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.861647-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.861647-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-9fq","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.863331-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-9gd","title":"Fill spec: v1-scope.md (REQ-V1)","description":"Fill docs/2-spec/v1-scope.md with concrete requirements from PRD §18 (V1 Scope), §20 (Success Criteria). Cover scope boundaries, what ships vs what is deferred, success metrics.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:10.68456-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:10.68456-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-9gd","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:10.686709-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-9p3","title":"Discover .claude/commands/*.md files","description":"Scan project .claude/commands/ and user ~/.claude/commands/ directories for .md command files. Parse command name from filename.","acceptance_criteria":"Project and user command directories scanned. Commands discovered and registered. Handles missing directories gracefully.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:46.505975-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:46.505975-08:00","labels":["commands","customization","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-9p3","depends_on_id":"the-tavern-at-the-spillway-l2q","type":"parent-child","created_at":"2026-02-07T19:45:46.507717-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-9uc","title":"Create /audit-spec command — PRD-to-Spec coverage verification","description":"Build a slash command that walks the PRD section by section, checks that 2-spec/index.md maps each one to a module, then reads each module to verify requirements actually exist (not just placeholders). Reports coverage gaps and status. Cross-checks downstream references — e.g. if a spec module says code lives in Agents/, verify that directory exists and has tests. Output: coverage report showing PRD sections → spec modules → requirement count → status. Modeled after /audit-transcripts but for the spec pipeline stage.","acceptance_criteria":"Command runs end-to-end. Every PRD section checked against index.md. Each spec module read and requirement count extracted. Downstream code/test directories validated. Gap report generated. No false positives on skeleton modules (they should show as skeleton, not missing).","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:41:56.362828-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:41:56.362828-08:00","labels":["pipeline","spec","tooling"]}
{"id":"the-tavern-at-the-spillway-9y6","title":"/todos tab in side pane","description":"Add TODO list tab/section to the side pane. Shows active TODOs from the current session. Checkable items.","acceptance_criteria":"TODO tab shows task list. Items checkable. List updates as tasks are created/completed.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:58.495486-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:58.495486-08:00","labels":["side-pane","todos","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-9y6","depends_on_id":"the-tavern-at-the-spillway-6ts","type":"parent-child","created_at":"2026-02-07T19:45:58.497489-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-afx","title":"Don't Ask mode — auto-deny unmatched tools","description":"Don't Ask mode auto-denies tool calls that don't have a matching allow rule. No dialog shown for denied tools.","acceptance_criteria":"Don't Ask mode functional. Unmatched tools auto-denied without dialog. Allowed tools still proceed.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:17.267981-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:17.267981-08:00","labels":["permissions","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-afx","depends_on_id":"the-tavern-at-the-spillway-m3o","type":"parent-child","created_at":"2026-02-07T19:45:17.270871-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-an7","title":"Component-based chat views — thinking, tools, text as separate renderers","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Render different message content types (thinking blocks, tool_use blocks, text responses) as separate SwiftUI components within the chat view. Distinct from tile layout (coj) which is about window-level arrangement — this is about rendering within a single chat. Sources: reader_2026-02-05 Section 9 UI Concepts (component-based chat views TBD), MessageType enum already exists in codebase. Key questions: What does each content block type look like visually? Collapsible thinking blocks? Tool use as inline cards? How does this interact with streaming (7g6)? Does the existing MessageType enum cover all needed cases?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:55:01.941343-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:01.941343-08:00","labels":["chat","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-an7","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:55:01.94345-08:00","created_by":"Yaakov M Nemoy"},{"issue_id":"the-tavern-at-the-spillway-an7","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"relates-to","created_at":"2026-02-07T19:47:11.791267-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ate","title":"Test dep","status":"closed","priority":4,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:58:43.288406-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:29.57559-08:00","closed_at":"2026-02-05T22:59:29.57559-08:00","close_reason":"test bead"}
{"id":"the-tavern-at-the-spillway-azu","title":"Tavern Feature Backlog — Mined from Transcripts \u0026 Sessions","description":"Comprehensive backlog mined from all 29 seed-design transcripts, session logs, PRD, implementation plan, project status, open questions, and code TODOs. EVERY ITEM IN THIS EPIC IS A STARTING POINT FOR DISCUSSION WITH THE USER — not a final, clearly defined task. Each bead captures the raw material and source references. Discuss with the user before promoting any item to a real work item.","design":"Items extracted from: reader_2026-02-05.md (synthesized transcripts), prd_2026-01-19.md, v1-implementation-plan.md, project-status.md, notes_issues-to-plan-for_2026-01-19-1031.md, code TODOs, handoff-apostrophe-bug.md. Grouped by functional area.","acceptance_criteria":"All identified potential work items captured. Each one references source material. User has reviewed and triaged.","status":"open","priority":2,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:57:53.711069-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:57:53.711069-08:00","labels":["backlog","tavern","triage"]}
{"id":"the-tavern-at-the-spillway-azy","title":"Formal spec pipeline — incremental document propagation","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Build a formal specification pipeline: transcripts -\u003e PRD -\u003e specs -\u003e ADRs -\u003e code -\u003e tests -\u003e docs. Each downstream artifact derives from upstream, with incremental updates when upstream changes and completeness verification at each stage. Sources: formal-spec session (Feb 6). Key questions: What tooling drives the pipeline? Manual slash commands or automated? How is completeness verified? How do we track which upstream changes have propagated? Is this a dev-time tool or part of the Tavern app itself?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:58.04819-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:58.04819-08:00","labels":["process","tavern","tooling"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-azy","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:58.05285-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-b43","title":"Graceful stream interruption handling","description":"Handle stream interruptions (network errors, user cancellation, timeout) gracefully. Show partial content received so far with error indicator.","acceptance_criteria":"Interrupted streams show partial content. Error state visible. No UI corruption. User can send new messages after interruption.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:56.495932-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:56.495932-08:00","labels":["error-handling","streaming","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-b43","depends_on_id":"the-tavern-at-the-spillway-jhm","type":"parent-child","created_at":"2026-02-07T19:44:56.501997-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-bly","title":"Fish-or-cut-bait — kill and restart triggers for agents","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTriggers to kill and restart rather than continue: token budget exceeded, changeset is totally wrong, agent spinning, whole gang going down wrong path. Reap and restart cleanly.\n\nSources: PRD section 12 (Fish or Cut Bait), PRD section 4.2 (Failed/Reaped state).\n\nKey questions: Who decides to fish-or-cut-bait — parent, Jake, or user? Automatic detection of spinning? What does restart look like — same assignment fresh context? How does this relate to agent hierarchy (reap subtree vs individual)?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:05.01916-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:05.01916-08:00","labels":["agents","lifecycle","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-bly","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.782421-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-bwy","title":"Always allow per tool type (persisted)","description":"Allow users to mark a tool type as 'always allow' from the approval dialog. Persisted to disk so it survives app restart.","acceptance_criteria":"Always Allow option in approval dialog. Persisted across sessions. Tool calls auto-approved for always-allowed tools.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:16.976752-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:16.976752-08:00","labels":["permissions","persistence","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-bwy","depends_on_id":"the-tavern-at-the-spillway-m3o","type":"parent-child","created_at":"2026-02-07T19:45:16.978788-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-byq","title":"/cost — token usage stats","description":"Implement /cost command showing token usage statistics: input tokens, output tokens, total cost, cache hits.","acceptance_criteria":"/cost displays accurate token usage and cost data. Format clear and readable.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.579014-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.579014-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-byq","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.580962-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-c8s","title":"Workflow engine — state machine templates and composable workflows","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWorkflow = state machine. Engine helps agents work step by step. Starter templates: Rule of 5 (five agent passes over single output), Verification Layers (progressive gates: lint, structure, architecture, performance). User can modify. Agents can propose new templates.\n\nSources: PRD sections 10 (Workflows), reader section 7 (Workflow Engine), reader open question ?2 (Deterministic Shell Meaning).\n\nKey questions: What is the workflow DSL/format? How do workflows compose? What is the state machine representation? How do verification layers gate progression? Template storage location?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.030078-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.030078-08:00","labels":["architecture","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-c8s","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.045854-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-cgv","title":"Epic 3: Input Enhancement","description":"Chat input matches CLI input capabilities. Multi-line input and @ file mentions.","design":"Multi-line text editor: Enter sends, Shift+Enter inserts newline. @ file mention system with path autocomplete popup.","acceptance_criteria":"Multi-line input works with correct key bindings. @ mentions trigger path autocomplete. Selected file paths inserted correctly.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:24.46617-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:24.46617-08:00","labels":["chat","input","v1"]}
{"id":"the-tavern-at-the-spillway-cli","title":"Agent sidebar status (idle/working/error)","description":"Agent list sidebar shows real-time status for each agent: idle, working (with activity indicator), or error state.","acceptance_criteria":"Each agent in sidebar shows current status. Status updates in real-time. Error state visually distinct.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:46:08.686227-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:46:08.686227-08:00","labels":["agents","chat","polish","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-cli","depends_on_id":"the-tavern-at-the-spillway-vpv","type":"parent-child","created_at":"2026-02-07T19:46:08.688736-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-clt","title":"Metrics and telemetry — token time, utilization, saturation, amplification","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTime categories: token time (waiting for LLM), tool time (execution), wall clock (total), throttle time (excluded). Agent metrics: utilization, saturation, wait time. Human metrics: wait time, context switching load. Primary measure: amplification (saturated agents running concurrently).\n\nSources: PRD section 9 (Metrics).\n\nKey questions: Where are metrics stored? Real-time dashboard or post-hoc analysis? How does amplification factor display in UI? Per-session or per-project metrics? Baselines and alerting?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:04.635957-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:04.635957-08:00","labels":["metrics","observability","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-clt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.52061-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-coj","title":"Composable tile view system — tiles, layout mutation, view modes","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nThe view layer should be a composable surface reshaped by both user AND agents. Tiles within windows, view modes (like Finder list/icon/column views), multiple views of same agent, dead agent bodies (tiles persist for review), saved layouts (templates vs snapshots).\n\nSources: reader section 8 (Dynamic View Architecture), transcript_2026-01-21-2345, transcript_2026-01-22-0730-view-architecture, project-status.md Dynamic View Architecture Remaining.\n\nKey questions: What tile primitives exist? How does split/merge work? What SwiftUI layout patterns? How do agents propose vs mutate layouts (two permission levels)? What does tree folding look like?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:27.752253-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:27.752253-08:00","labels":["tavern","ui","views"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-coj","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.496135-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-cu8","title":"Running cost/token display (persistent)","description":"Persistent cost and token counter visible in toolbar or status bar area. Updates after each message exchange. Shows session total.","acceptance_criteria":"Cost/token counter always visible. Updates in real-time. Shows accurate session totals.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:46:08.369724-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:46:08.369724-08:00","labels":["chat","polish","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-cu8","depends_on_id":"the-tavern-at-the-spillway-vpv","type":"parent-child","created_at":"2026-02-07T19:46:08.371749-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-cxg","title":"Epic 5: Slash Command Infrastructure + Core Commands","description":"Slash command system with essential commands. Two parts: infrastructure (parser/dispatcher/autocomplete) and core commands (/compact, /cost, /model, /status, /context, /stats, thinking tokens control).","design":"Command parser dispatches from input field. Autocomplete overlay shows matching commands. Core commands call SDK where needed (/compact, /model, thinking tokens). /cost and /stats render usage data. /status shows version/model/connectivity.","acceptance_criteria":"Typing / shows command autocomplete. All core commands functional. /model changes model mid-session. /compact triggers context compaction. /cost shows token usage.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:34.251908-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:34.251908-08:00","labels":["commands","infrastructure","v1"]}
{"id":"the-tavern-at-the-spillway-cyi","title":"Collapsible tool use blocks","description":"Tool use blocks show tool name + summary header. Clicking expands to show full input parameters. Collapsed by default for long inputs.","acceptance_criteria":"Tool use blocks show name and summary when collapsed. Expand/collapse toggle works. Full input visible when expanded.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:51.059185-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:51.059185-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-cyi","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:51.06121-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-dd4","title":"Real commitment verification — replace mock assertions","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCommitment verification currently uses mock runners. Need real deterministic verification: test suite passes, lint passes, code structure checks, etc. PRD invariant 3: Commitments must be verified independently.\n\nSources: CLAUDE.md Not Implemented, project-status.md Commitments Remaining, PRD section 4.7 (Deterministic Shell, Commitment flow), reader open question ?4 (Agent Done Assertion).\n\nKey questions: What does a real assertion look like? Shell commands? Swift test runner? How does agent-says-done verification work with real tooling? Is verification synchronous or async? Who decides the assertion — parent, agent, or user?","status":"open","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:29.916085-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:29.916085-08:00","labels":["core","tavern","verification"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-dd4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.256321-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-dec","title":"ClodKit SDK migration — merge rename from ClodeMonster","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. The new-sdk branch (commit 6cac0f8) has a clean 1:1 rename from ClodeMonster to ClodKit across 13 files (52 insertions, 52 deletions). Needs merge to main + documentation updates in CLAUDE.md. Sources: new-sdk branch. Key questions: Is the ClodKit package published and stable? Any behavioral changes beyond the rename? Should we verify API compatibility before merging? Update all CLAUDE.md references to ClodKit?","status":"closed","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:59.810222-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-08T17:48:11.674046-08:00","closed_at":"2026-02-08T17:48:11.674046-08:00","close_reason":"Already completed — commit 6cfc87d switched to ClodKit v1.0.0 across all files. Package.swift references published v1.0.0. CLAUDE.md updated.","labels":["migration","sdk","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-dec","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:59.812399-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-e2p","title":"/hooks — view and edit lifecycle hooks","description":"Management UI for lifecycle hooks. View configured hooks, their triggers, and commands. Allow editing hook configuration.","acceptance_criteria":"/hooks opens hook management UI. Shows all configured hooks. Edit capability functional.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:54.367608-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:54.367608-08:00","labels":["commands","management","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-e2p","depends_on_id":"the-tavern-at-the-spillway-2ah","type":"parent-child","created_at":"2026-02-07T19:45:54.369639-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-e4p","title":"Create /trace command — follow a requirement through the pipeline","description":"Build a slash command that takes a requirement ID (e.g. REQ-AGT-003) and traces it through every pipeline stage. Shows: PRD source section → spec text → ADR (if any) → code files → test files → status at each stage. Quick way to answer 'is this requirement fully implemented and tested?' Reads the spec module to find the requirement, extracts its Source field for PRD linkage, checks downstream references for code/test paths, and reports completeness.","acceptance_criteria":"Given any valid REQ-PREFIX-NNN ID, command outputs a trace showing each pipeline stage. Invalid IDs produce a clear error. Works for requirements at any status (specified, implemented, tested, verified). Shows gaps clearly — e.g. 'Code: not found' or 'Tests: none'.","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:01.173444-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:01.173444-08:00","labels":["pipeline","spec","tooling"]}
{"id":"the-tavern-at-the-spillway-egf","title":"Doc store continuous sync — agents live-syncing state to files","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDoc store CRUD exists but agents dont continuously sync state to their files. Need live sync so doc store remains the single source of truth (PRD invariant 5: if its not in a file, it doesnt exist).\n\nSources: project-status.md Doc Store Remaining, PRD section 4.5 (Doc Store), reader section 7 (Document Store).\n\nKey questions: What triggers a sync — every state change, or batched? How does this interact with the persistence context pattern? What about write conflicts from concurrent agents? SwiftUI observation patterns for doc store changes?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:08.988739-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:08.988739-08:00","labels":["docstore","persistence","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-egf","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.244767-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ejj","title":"Merge queue — coordinated changeset merging","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents queue up their changesets, see whats ahead, refine against predictable target, serialized merges, fewer conflicts.\n\nSources: PRD section 6.5 (Merge Queue), PRD v1 Deferred list.\n\nKey questions: How does this work without git worktrees (changesets are overlay-based)? What is the merge strategy? Conflict resolution — automatic or agent-assisted? Priority ordering in the queue?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.362814-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.362814-08:00","labels":["changesets","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-ejj","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.315089-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-f99","title":"Create /spec-status command — live dashboard of spec module status","description":"Build a slash command that computes a live dashboard from the actual spec files (not manually maintained). For each of the 16 modules: reads the file, extracts status (skeleton/partial/complete/verified), counts requirements by status (specified/implemented/tested/verified), and summarizes. Output is a table showing module → status → requirement counts → implementation coverage. Basically index.md but computed live rather than manually maintained.","acceptance_criteria":"Command reads all 16 spec modules and index.md. Produces accurate counts matching actual file contents. Table format is scannable. Detects drift between index.md status and actual module status. Runs in under 30 seconds.","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:05.119956-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:05.119956-08:00","labels":["pipeline","spec","tooling"]}
{"id":"the-tavern-at-the-spillway-fh0","title":"Custom commands in autocomplete and help","description":"Discovered custom commands appear in slash command autocomplete and help listing alongside built-in commands.","acceptance_criteria":"Custom commands show in autocomplete. Distinguished from built-in commands (e.g., with project/user badge). Help lists all available commands.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:46.968725-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:46.968725-08:00","labels":["commands","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-fh0","depends_on_id":"the-tavern-at-the-spillway-l2q","type":"parent-child","created_at":"2026-02-07T19:45:46.971827-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-fjb","title":"Partial message UI updates","description":"Append tokens to current message in real-time as they arrive from the stream. ChatViewModel updates incrementally.","acceptance_criteria":"Text appears token-by-token in the chat view. No flicker or layout jumps.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:56.124376-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:56.124376-08:00","labels":["chat","streaming","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-fjb","depends_on_id":"the-tavern-at-the-spillway-jhm","type":"parent-child","created_at":"2026-02-07T19:44:56.13022-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-gfg","title":"Jake system prompt broken — not getting authentic Jake experience","description":"Jake is not responding with his characteristic voice (used car salesman energy, CAPITALS for emphasis, carnival barker theatrics). The system prompt contains a note about avoiding apostrophes due to a ClodeMonster SDK shell escaping bug that caused 60s timeouts. This workaround may still be in place or the prompt itself may not be reaching Claude correctly after the ClodKit migration. Need to verify: (1) the system prompt is actually being sent, (2) the apostrophe bug still exists in ClodKit or was fixed, (3) Jake responds in character.","acceptance_criteria":"When chatting with Jake, responses consistently use his voice: CAPITALS for emphasis, used car salesman energy, parenthetical asides, sketchy-but-warm personality. The authentic Jake experience.","status":"closed","priority":1,"issue_type":"bug","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T20:53:11.850423-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-08T17:49:06.8133-08:00","closed_at":"2026-02-08T17:49:06.8133-08:00","close_reason":"Restored authentic Jake voice: added apostrophes back (ClodKit v1.0.0 fixed the shell escaping bug), added sample Jake-isms, Spillway Principle, italics for stage directions, richer character direction.","labels":["bug","chat","jake"]}
{"id":"the-tavern-at-the-spillway-gkp","title":"Per-tool progress indicator","description":"Replace global 'cogitating' spinner with per-tool progress. Show which specific tool is executing (e.g., 'Running Bash...', 'Reading file...').","acceptance_criteria":"During tool execution, indicator shows specific tool name. Multiple concurrent tools each shown. Returns to text streaming indicator between tools.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:46:08.520366-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:46:08.520366-08:00","labels":["chat","polish","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-gkp","depends_on_id":"the-tavern-at-the-spillway-vpv","type":"parent-child","created_at":"2026-02-07T19:46:08.522995-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-gyx","title":"Fill spec: spawning.md (REQ-SPN)","description":"Fill docs/2-spec/spawning.md with concrete requirements from PRD §6.2 (Agent Spawn Configuration), §6.3 (Work Queues), §7 (Agent Naming). Cover two-mode spawn, naming themes, work queue management.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:51.820662-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:51.820662-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-gyx","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:51.822582-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-gz4","title":"Agent reasoning visibility — why did it do that?","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nVisibility into agent reasoning, not just outputs. Understanding the chain of decisions when an agent goes off the rails. Postmortems are hard without this.\n\nSources: notes_issues-to-plan-for items 2 and 9 (Debugging failed runs, Why did it do that), PRD section 5.4 (Stream separation).\n\nKey questions: Is this just the thinking blocks rendered in UI? Or a separate reasoning trace? How does this work across agent hierarchies? Decision tree visualization? Post-hoc analysis vs real-time?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:41.735761-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:41.735761-08:00","labels":["observability","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-gz4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.588612-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-gzq","title":"Fill spec: observability.md (REQ-OBS)","description":"Fill docs/2-spec/observability.md with concrete requirements from PRD §9 (Metrics), §16 (Violation Monitoring). Cover TavernLogger categories, instrumentation principles, metrics collection, violation monitoring. Already implemented in Logging/ and Errors/.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:10.353678-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:10.353678-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-gzq","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:10.355505-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-hkg","title":"/model — change model mid-session","description":"Implement /model command to switch the active model mid-session. Also support F1 key for model selection popup. Show available models.","acceptance_criteria":"/model shows available models and allows switching. F1 opens model selector. Model change takes effect on next message.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.719095-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.719095-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-hkg","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.720792-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-hnb","title":"File tree does not refresh when new files appear on disk","description":"The resource panel file tree only loads the directory contents on initial load and on expand/collapse. If files are created or deleted externally (e.g., by an agent, git checkout, or the user in Finder), the tree does not update to reflect the changes. Need file watching (FSEvents or DispatchSource) to detect on-disk changes and refresh the affected subtree.","acceptance_criteria":"When a file is created, deleted, or renamed in a directory that is currently visible in the file tree, the tree updates within ~1 second without requiring manual interaction.","status":"open","priority":2,"issue_type":"bug","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T20:52:55.015626-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T20:52:55.015626-08:00","labels":["resource-panel","ux"]}
{"id":"the-tavern-at-the-spillway-hq1","title":"Epic 1: Message Rendering Overhaul","description":"Messages are visually distinct by type, collapsible, and polished. Pure UI work on existing MessageType enum.","design":"Extend existing content block rendering infrastructure. Each message type gets distinct visual treatment (colored boxes/borders/cards). Collapsible sections for tool use, tool results, and thinking blocks. Inline diff rendering for file edits.","acceptance_criteria":"All message types visually distinct. Tool use/result/thinking blocks collapsible. Code blocks have copy button. Timestamps on all messages. Inline diffs render correctly.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:17.616912-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:17.616912-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-hq1","depends_on_id":"the-tavern-at-the-spillway-an7","type":"relates-to","created_at":"2026-02-07T19:47:11.792579-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-hu4","title":"Notification and attention routing — badges, priority, question triage","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents need attention indicators: notification badges, priority routing (which agent needs user attention NOW), question triage (quick vs deep). Parent agents choose notification approach for children (popup vs periodic summary).\n\nSources: PRD section 5.5 (Question Triage), reader section 3 (Bubbling), project-status.md Chat and UI Remaining (Notification badges), notes_issues-to-plan-for item 4 (Priority/attention routing).\n\nKey questions: How are questions classified as quick vs deep? What determines priority? How does Jake surface which agent to zoom into? Badge count vs badge type?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:27.921718-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:27.921718-08:00","labels":["agents","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-hu4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.623149-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-igh","title":"Sandbox and changeset system — overlay filesystem, isolation, platforms","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nFive sandbox primitives: Changeset (overlay filesystem), Platform (Mac/container/cloud), Isolation (VM/container/OS sandbox), Outputs (network control), Software (OS choice). Source control is orthogonal to isolation. Changesets work across multiple repos.\n\nSources: reader section 6 (Sandbox and Isolation), PRD section 4.6, reader ?8 (partially resolved), project-status.md Sandbox and Changesets (nothing implemented yet).\n\nKey questions: Which primitive to implement first? How does overlay filesystem work on macOS (APFS snapshots? FUSE?)? Changeset review workflow? How do changesets compose across agents?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:46.510127-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:46.510127-08:00","labels":["architecture","sandbox","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-igh","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.993468-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-iln","title":"Gang of experts — specialized prompt templates for agent roles","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nSpecialized prompts applied to agents (not persistent entities): Reviewer, Tester, Architect, etc. Pull in the reviewer = spawn agent with reviewer instructions. User can customize.\n\nSources: PRD section 11 (Gang of Experts).\n\nKey questions: What expert roles to start with? How are prompts composed (system prompt + expert prompt + assignment)? Can experts be combined? Where are expert templates stored (.tavern/ vs bundled)?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:46.841474-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:46.841474-08:00","labels":["agents","prompts","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-iln","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.252827-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-iy1","title":"ClodeMonster SDK apostrophe bug — shell escaping in ProcessTransport","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nApostrophes in --system-prompt cause 60-second timeouts. Root cause: ProcessTransport.swift:171 passes command string to zsh -l -c, breaking shell parsing. Workaround applied: all apostrophes removed from Jakes system prompt.\n\nSources: docs/handoff-apostrophe-bug.md (full reproduction, root cause, fix options).\n\nKey questions: File upstream bug with ClodeMonster? Fix locally? Monitor for SDK update that fixes this? Remove workaround when fixed?","status":"closed","priority":1,"issue_type":"bug","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:42.202214-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-08T17:48:12.606274-08:00","closed_at":"2026-02-08T17:48:12.606274-08:00","close_reason":"Already resolved — commit f757e6d cleaned up the apostrophe bug documentation. ClodKit v1.0.0 fixes the shell escaping issue.","labels":["bug","sdk","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-iy1","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.971237-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-jhm","title":"Epic 2: Streaming Responses","description":"Token-by-token progressive display instead of batch-only. ClodeMonster already exposes AsyncSequence — wire it up.","design":"Integrate SDK streaming via AsyncSequence. Partial message UI updates appending tokens. Visual streaming indicator. Graceful stream interruption handling.","acceptance_criteria":"Responses appear token-by-token. Streaming indicator visible during generation. Interrupted streams handled gracefully without UI corruption.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:21.298419-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:21.298419-08:00","labels":["chat","streaming","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-jhm","depends_on_id":"the-tavern-at-the-spillway-7g6","type":"relates-to","created_at":"2026-02-07T19:47:11.652957-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-jsd","title":"@ file mentions with path autocomplete","description":"Typing @ in the input field triggers a file path autocomplete popup. Browse and select files from the project directory. Selected file path inserted as context reference.","acceptance_criteria":"@ triggers autocomplete popup. File paths from project listed. Selection inserts path. Autocomplete filters as user types.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:58.991361-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:58.991361-08:00","labels":["autocomplete","input","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-jsd","depends_on_id":"the-tavern-at-the-spillway-cgv","type":"parent-child","created_at":"2026-02-07T19:44:58.993411-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-kaq","title":"Model selection per agent — Haiku for drones, Sonnet for coordinators, Opus for architects","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nParent specifies model when spawning child. Cheap models for cheap tasks (drones), capable models for complex work. Currently all agents use whatever the SDK defaults to.\n\nSources: PRD section 6.2 (Agent Spawn Configuration - model selection).\n\nKey questions: How does ClodeMonster SDK support model selection? Does model affect token budget? Can model be changed mid-session? What are the cost tradeoffs?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.390657-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.390657-08:00","labels":["agents","sdk","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-kaq","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.103223-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-kvn","title":"/bashes tab — background task list","description":"Background task tab in side pane showing running/completed background tasks with status. View output and stop running tasks.","acceptance_criteria":"Background task tab shows all tasks with status (running/completed/failed). Can view output. Can stop running tasks.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:58.659452-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:58.659452-08:00","labels":["side-pane","tasks","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-kvn","depends_on_id":"the-tavern-at-the-spillway-6ts","type":"parent-child","created_at":"2026-02-07T19:45:58.661367-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-kwo","title":"Subdirectory namespacing for custom commands","description":"Subdirectories in commands/ become namespaces. E.g., .claude/commands/git/amend.md becomes /git:amend.","acceptance_criteria":"Subdirectory commands registered with namespace prefix. Autocomplete shows namespaced commands.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:46.664751-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:46.664751-08:00","labels":["commands","customization","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-kwo","depends_on_id":"the-tavern-at-the-spillway-l2q","type":"parent-child","created_at":"2026-02-07T19:45:46.666816-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-kxw","title":"Fill spec: sandbox.md (REQ-SBX)","description":"Fill docs/2-spec/sandbox.md with concrete requirements from PRD §4.6 (Sandbox Primitives), §6.4 (Preflight Checks). Cover changeset vs worktrees, file protection, preflight checks. Not yet implemented — spec drives future work.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:51.346246-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:51.346246-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-kxw","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:51.348603-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-l2q","title":"Epic 6: Custom Slash Commands","description":"User and project custom commands work like the CLI. Discover .claude/commands/*.md, subdirectory namespacing, argument substitution.","design":"Scan .claude/commands/ (project) and ~/.claude/commands/ (user) for .md files. Parse command names from filenames, subdirectories become namespaces. Substitute $ARGUMENTS, $1, $2 etc. Register in autocomplete.","acceptance_criteria":"Project and user commands discovered and listed. Subdirectory namespacing works. Argument substitution functional. Commands appear in autocomplete.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:38.611286-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:38.611286-08:00","labels":["commands","customization","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-l2q","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"blocks","created_at":"2026-02-07T19:44:18.582719-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-l6g","title":"Session classification automation — design vs transcription vs implementation","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Create decision logic to automatically classify Claude sessions into categories: (a) design sessions with [U]/[C]/[T] exchanges that need transcripts, (b) transcription/meta sessions doing process work, (c) implementation sessions where commits suffice. Could use message frequency analysis, keyword detection, or other heuristics. Sources: transcript_2026-02-02 (Part 3, Transcription vs Design Sessions). Key questions: Is this a standalone tool or part of the audit system? What accuracy is acceptable? ML-based or heuristic? Does this feed into the formal spec pipeline? How does it handle sessions that span multiple categories?","status":"open","priority":3,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:55:06.535613-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:06.535613-08:00","labels":["process","tavern","tooling"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-l6g","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:55:06.537978-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-lz6","title":"Fill spec: doc-store.md (REQ-DOC)","description":"Fill docs/2-spec/doc-store.md with concrete requirements from PRD §4.5 (The Document Store), §6.6 (Hygiene). Cover three storage layers, session lifecycle, doc store as memory backbone.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:41.912052-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:41.912052-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-lz6","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:41.914115-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-m3o","title":"Epic 4: Permissions Subsystem","description":"Full permission control over tool execution, matching CLI behavior. Tool approval dialogs, always-allow rules, permission modes.","design":"Permission callback integration via SDK canUseTool. Tool approval dialog UI. Persisted allow rules per tool type. Permission mode switching (default, acceptEdits, plan, bypassPermissions, dontAsk).","acceptance_criteria":"Tool calls prompt for approval. Always-allow persists across sessions. All permission modes functional. Rules viewable and editable in UI.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:29.324807-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:29.324807-08:00","labels":["permissions","sdk","v1"]}
{"id":"the-tavern-at-the-spillway-my4","title":"Resource panel / file viewer — IDE-lite right-side panel","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Right-side panel showing file tree, file contents, and diffs alongside chat. Goal: make Tavern usable as a standalone dev environment at v1.5 without needing a separate IDE. Sources: resource-viewer session (Feb 6). Key questions: What file types need rendering? Syntax highlighting approach? How do agent file changes surface in the panel? Read-only or editable? How does this interact with the doc store / shared workspace pattern?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:48.855853-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:48.855853-08:00","labels":["tavern","ui","v1.5"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-my4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:48.861718-08:00","created_by":"Yaakov M Nemoy"},{"issue_id":"the-tavern-at-the-spillway-my4","depends_on_id":"the-tavern-at-the-spillway-6ts","type":"relates-to","created_at":"2026-02-07T19:47:12.065672-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-no9","title":"Permission mode switching","description":"Support permission modes: default (ask for each), acceptEdits (auto-allow edits), plan (require plan approval), bypassPermissions (allow all). Switchable via UI or command.","acceptance_criteria":"All four permission modes functional. Mode switching works. Each mode correctly controls tool approval behavior.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:17.12164-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:17.12164-08:00","labels":["permissions","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-no9","depends_on_id":"the-tavern-at-the-spillway-m3o","type":"parent-child","created_at":"2026-02-07T19:45:17.123551-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-nt2","title":"Rollback mechanism — undoing agent work cleanly","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nUndoing agent work that looked fine but wasnt. Git helps but isnt always clean. Especially important when agents work on actual files (pre-changeset).\n\nSources: notes_issues-to-plan-for item 8 (Rollback).\n\nKey questions: Git-based rollback vs custom undo? Per-agent commits? How does this interact with changesets when they exist? Rollback across multiple agents that collaborated?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:12.542559-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:12.542559-08:00","labels":["safety","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-nt2","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.596091-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-o0w","title":".tavern/ in-project shareable configuration","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nProjects should have a .tavern/ directory for shareable config: templates, agent definitions, workflow configs. This is version-controllable and separate from personal state (UserDefaults/iCloud).\n\nSources: reader section 7 (Session Storage Layers - layer 2), project-status.md Document-Based Architecture Remaining, PRD section 4.5.\n\nKey questions: What goes in .tavern/ vs UserDefaults? Config file format (YAML, JSON, TOML)? Agent definition format? Template structure? Should this be gitignored or committed?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:28.274424-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:28.274424-08:00","labels":["config","persistence","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-o0w","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.872015-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-o52","title":"Coordinate with file viewer pane infrastructure","description":"Coordinate with the other agent building file viewer side pane infrastructure. Ensure tab/section system supports adding TODO and background task tabs.","acceptance_criteria":"Side pane infrastructure supports multiple content tabs. API for adding custom tabs is clear.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:58.339136-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:58.339136-08:00","labels":["coordination","side-pane","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-o52","depends_on_id":"the-tavern-at-the-spillway-6ts","type":"parent-child","created_at":"2026-02-07T19:45:58.341294-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ogs","title":"Context cards — quick context for jumping into agent conversations","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nQuick context cards for jumping into agent conversations: agent name, current assignment, status right now. Lets user switch contexts without reading full chat history.\n\nSources: reader section 8 (Context Cards), PRD section 5.2.\n\nKey questions: What exactly is shown? Just name/assignment/status or more? Is it a hover card, a sidebar panel, or inline in the agent list? Does it include recent messages summary?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:28.100529-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:28.100529-08:00","labels":["tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-ogs","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.748831-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-p37","title":"/context — context usage visualization","description":"Implement /context showing context window usage — tokens used vs available, visual bar/gauge, breakdown by content type.","acceptance_criteria":"/context shows context usage with visual representation. Breakdown by type (system, messages, tools) if available.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.997567-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.997567-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-p37","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.999575-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-p70","title":"Jake autonomous agent spawning via tool handler","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nJake currently responds in JSON format with spawn actions parsed by JSONActionHandler, but spawned agents use mock Claude (not real SDK calls). Need real Claude sessions for spawned agents so Jake can truly delegate work.\n\nSources: project-status.md Jake Remaining, CLAUDE.md Not Implemented (Real Claude for spawned agents), transcript_2026-01-28-jake-spawn-tool (JakeToolHandler protocol, continuation loop), reader section 3 (Two-Level Orchestration Model).\n\nKey questions: How does the real SDK session interact with the sidecar pattern? Token budget for spawned agents? What happens when spawned agent session times out or errors?","status":"open","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:29.752322-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:29.752322-08:00","labels":["agents","core","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-p70","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.122146-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-pbt","title":"Perseverance mode and agent lifecycle states","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWhen agents stop, the system should auto-prompt them to continue (perseverance mode). Agents must explicitly use a tool to get user attention. Need full lifecycle state machine: Working, Waiting for Input, Waiting for Wakeup, Done, Failed/Reaped.\n\nSources: PRD section 4.2 (Agent States), PRD section 4.4 (Operating Modes), reader section 3 (Perseverance Mode vs Chat Mode), reader open question ?6 (Perseverance Prompts and Agent Lifecycle), project-status.md Agent Spawning Remaining.\n\nKey questions: What is a perseverance prompt exactly? What triggers transitions? How does this interact with token budgets? What is the wakeup mechanism?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.114999-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.114999-08:00","labels":["agents","lifecycle","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-pbt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.516486-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-phg","title":"Fill spec: agents.md (REQ-AGT)","description":"Fill docs/2-spec/agents.md with concrete requirements from PRD §4.1 (Agent Types), §4.2 (Agent States), §4.3 (Task Modes). Cover Jake daemon, mortal agents, sidecar pattern, two-level orchestration.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:41.608032-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:41.608032-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-phg","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:41.609839-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-pl9","title":"Fill spec: system-architecture.md (REQ-ARCH)","description":"Fill docs/2-spec/system-architecture.md with concrete requirements from PRD §6.1 (Tech Stack). Cover layer structure, component ownership chain, async primitives, concurrency rules. Reference ADR-001.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:01.5036-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:01.5036-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-pl9","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:01.505796-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-pt3","title":"Web search result rendering","description":"Minimal rendering for web search results: show query text + clickable source links.","acceptance_criteria":"Web search results show query and source links. Links are clickable.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:51.750757-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:51.750757-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-pt3","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:51.752789-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-thv","title":"Hierarchical agent trees — agents spawning children","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCurrently agents are flat (Jake spawns mortal agents). Design calls for Erlang-style arbitrary depth trees: mortal agents spawning children, children spawning grandchildren, etc. Tree management is synchronous within each actor.\n\nSources: reader section 3 (Mortal Agents, task modes), reader section 5 (Agent Hierarchy diagram), PRD section 4.1 (Agent Types), transcript_2026-01-21-2345 (Erlang-style depth), transcript_2026-01-25-0108 (Component Ownership Chain).\n\nKey questions: What does child agent spawning look like concretely? Same tool handler as Jake? How does tree management interact with the sidecar pattern? What about tree visualization in the UI?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.280475-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.280475-08:00","labels":["agents","architecture","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-thv","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.640637-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-uai","title":"Scroll-to-bottom button","description":"When user scrolls up in the chat, show a floating 'scroll to bottom' button. Clicking scrolls to latest message. Button disappears when already at bottom.","acceptance_criteria":"Button appears when scrolled up. Click scrolls to bottom smoothly. Button hidden when at bottom. Unread message count badge optional.","status":"open","priority":3,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:46:08.83398-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:46:08.83398-08:00","labels":["chat","polish","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-uai","depends_on_id":"the-tavern-at-the-spillway-vpv","type":"parent-child","created_at":"2026-02-07T19:46:08.836302-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ulh","title":"Fill spec: lifecycle.md (REQ-LCM)","description":"Fill docs/2-spec/lifecycle.md with concrete requirements from PRD §12 (Fish or Cut Bait), §13 (Rewind and Branch). Cover agent lifecycle, dead agents leave bodies, rewind capabilities. Partially implemented.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:10.192689-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:10.192689-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-ulh","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:10.194906-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vfx","title":"Sidecar pattern — separate I/O actors per agent","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nEach agent needs two actor components: main actor (tree structure, never blocks) and sidecar actor (slow Anthropic I/O). Prevents thread pool starvation with concurrent agents. Global semaphore limits concurrent API calls (~10).\n\nSources: reader section 9 (Sidecar Pattern), ADR-001 shape L (Sidecar), transcript_2026-01-24-shape-selection, Architecture Principles in CLAUDE.md (Concurrency Rules).\n\nKey questions: How does the sidecar actor relate to Swift concurrency (actors)? What is the semaphore implementation? How does cancellation work across main/sidecar? Is the sidecar per-agent or shared?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:08.639987-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:08.639987-08:00","labels":["architecture","concurrency","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vfx","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.012353-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vij","title":"Fill spec: view-architecture.md (REQ-VIW)","description":"Fill docs/2-spec/view-architecture.md with concrete requirements from Reader §8 (no direct PRD sections). Cover dynamic views, tiles, view modes, context cards. Not yet implemented — spec drives future work.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:43:01.338114-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:43:01.338114-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vij","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:43:01.340542-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vpn","title":"Fill formal spec modules from PRD and reader","description":"Populate all spec module skeletons in docs/2-spec/ with concrete, traceable requirements derived from the PRD and reader. This epic stays open indefinitely — new modules may be added as the design evolves. Every child bead of this epic MUST contain a copy of the fill instructions below so it can be worked independently.\n\n## Fill Instructions (copy into every child bead)\n\nTake a skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the module's Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the module's REQ prefix (e.g. REQ-AGT-NNN)\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from 'skeleton' to 'partial' (or 'complete' if fully specified).\n\n8. **Update index.md** — Update the module's status and requirement count in docs/2-spec/index.md.","design":"Each spec module is independent and can be filled in any order. Priority should follow implementation needs — modules covering already-implemented code (agents, observability, user-experience) should be filled first since they can be verified against existing code. Modules for unimplemented features (sandbox, workflows, view-architecture) can wait.","acceptance_criteria":"Every spec module has been promoted from skeleton to at least partial status. All requirements are traceable to PRD sections. index.md accurately reflects module statuses and requirement counts.","notes":"KEEP THIS EPIC OPEN INDEFINITELY. When adding new child beads to this epic, always copy the Fill Instructions from this epic's description into the child bead's description so it can be worked standalone.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:24.915176-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:24.915176-08:00","labels":["pipeline","spec"]}
{"id":"the-tavern-at-the-spillway-vpp","title":"Collapsible thinking blocks","description":"Thinking/reasoning blocks collapsed by default with 'Thinking...' header. Expand to see full reasoning text.","acceptance_criteria":"Thinking blocks collapsed by default. Expandable to show full reasoning content.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:51.419199-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:51.419199-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vpp","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:51.421351-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vpt","title":"Rewind and branch — checkpoint, fork, and replay capability","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCheckpoint agent state, tweak prompt, fork new timeline. Works at both agent level and changeset level. Enables experimentation without losing prior work.\n\nSources: PRD section 13 (Rewind and Branch), PRD v1 Deferred list.\n\nKey questions: What is checkpointed — session state, doc store state, or both? How does forking work with Claude sessions (new session with context summary)? UI for browsing timelines? Storage cost of checkpoints?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:05.199059-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:05.199059-08:00","labels":["agents","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vpt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.911291-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vpv","title":"Epic 9: Chat UX Polish","description":"Quality-of-life features that make the chat feel solid. Running cost display, per-tool progress, agent sidebar status, scroll-to-bottom.","design":"Persistent cost/token counter in toolbar or status bar. Per-tool progress indicator replacing global spinner. Agent sidebar shows idle/working/error. Scroll-to-bottom FAB when user scrolls up.","acceptance_criteria":"Cost display updates in real-time. Tool progress shows which tool is running. Agent status visible in sidebar. Scroll-to-bottom button appears when scrolled up and works correctly.","status":"open","priority":1,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:43:51.053167-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:43:51.053167-08:00","labels":["chat","polish","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vpv","depends_on_id":"the-tavern-at-the-spillway-yte","type":"relates-to","created_at":"2026-02-07T19:47:11.932031-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vu3","title":"Multi-line input (Enter sends, Shift+Enter newline)","description":"Chat input field supports multi-line editing. Enter sends the message, Shift+Enter inserts a newline. Input field grows to accommodate multiple lines.","acceptance_criteria":"Enter sends message. Shift+Enter inserts newline. Input field expands for multi-line content. Shrinks back after sending.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:58.823282-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:58.823282-08:00","labels":["chat","input","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vu3","depends_on_id":"the-tavern-at-the-spillway-cgv","type":"parent-child","created_at":"2026-02-07T19:44:58.825406-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vvz","title":"Max thinking tokens control","description":"Allow controlling max thinking/reasoning tokens via /model command or dedicated command. Pass to SDK.","acceptance_criteria":"Thinking token limit adjustable. Setting persists for session. SDK receives updated limit.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:38.274874-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:38.274874-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vvz","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:38.276649-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-w3u","title":"Streaming responses — replace batch-only with real-time UI","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCurrently Jake and mortal agents return batch responses only. Need real-time streaming to the UI with typewriter effect. The SDK (ClodeMonster) returns ClaudeQuery as AsyncSequence of StdoutMessage, which supports streaming.\n\nSources: CLAUDE.md 'Not Implemented', project-status.md Chat \u0026 UI Remaining, PRD section 5.1, transcript_2026-01-24-async-primitives (AsyncStream strategy), reader section 5 Architecture Notes (Async Primitive Strategy).\n\nKey questions: What does the streaming UI look like? Typewriter per-character or per-token? How do content blocks (thinking, tool_use) render during streaming? How does this interact with the batching strategy (collect(.byTime(..., .milliseconds(16))))?","status":"closed","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:58:07.53562-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:27.604035-08:00","closed_at":"2026-02-06T17:54:27.604035-08:00","close_reason":"Duplicate of the-tavern-at-the-spillway-7g6","labels":["core","tavern","ui"]}
{"id":"the-tavern-at-the-spillway-wdk","title":"Preflight checks — spawn-time verification before agents start","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nEvery agent gets spawn-time verification: sandbox configured, access to required resources, no permissions prompts expected, external accounts authenticated. Failure = agent does not start, parent notified with reason. No degraded mode — pass/fail.\n\nSources: reader section 6 (Preflight Checks), PRD section 6.4 (Preflight Checks).\n\nKey questions: What checks are needed for v1 (no sandbox yet)? How are required resources specified? What does a failed preflight look like in the UI? Retry mechanism?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.695064-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.695064-08:00","labels":["agents","safety","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-wdk","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.357189-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-whf","title":"Progressive unlocks — engagement-based content revelation","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTrack message count. As count grows, unlock: more cogitating verbs, new naming themes, expanded Jake vocabulary, easter eggs. Subtle hints only — Jake doesnt announce unlocks, just starts using new words.\n\nSources: PRD section 8 (Progressive Unlocks), transcript_2026-01-21-1620 (progressive unlocks concept).\n\nKey questions: Per-project or global count? Linear or milestone-based? Where stored (doc store, UserDefaults)? Reset behavior? Can users prestige? What are the first unlock tiers?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:47.006459-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:47.006459-08:00","labels":["engagement","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-whf","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.384248-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-wue","title":"Collapsible tool result blocks","description":"Tool result blocks collapsed by default. Show status (success/error) in header. Expand to see full result content.","acceptance_criteria":"Tool results collapsed by default. Header shows success/error status. Full content visible on expand.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:51.22385-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:51.22385-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-wue","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:51.22637-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-xnp","title":"Permission rules display and editing UI","description":"UI to view current permission rules (which tools are always-allowed, current mode) and edit them. Could be a settings sheet or dedicated pane.","acceptance_criteria":"Current rules viewable in UI. Rules editable (add/remove always-allow, change mode). Changes persisted immediately.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:17.421824-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:17.421824-08:00","labels":["permissions","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-xnp","depends_on_id":"the-tavern-at-the-spillway-m3o","type":"parent-child","created_at":"2026-02-07T19:45:17.423985-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-yfc","title":"Fill spec: operating-modes.md (REQ-OPM)","description":"Fill docs/2-spec/operating-modes.md with concrete requirements from PRD §4.4 (Operating Modes), §5.2 (Attention Model). Cover perseverance vs chat mode, two-mode spawn, calling/hanging up.\n\n## Fill Instructions\n\nTake the skeleton spec module and populate it with concrete requirements:\n\n1. **Read upstream sources** — Read the PRD sections listed in the modules Upstream References. Read the corresponding reader sections. Read any transcripts referenced.\n\n2. **Extract requirements** — For each concrete behavior, constraint, or capability described in the PRD, create a requirement entry:\n   - Use the modules REQ prefix\n   - Number sequentially starting from 001\n   - Fill in Source (PRD section), Priority (must-have/should-have/deferred based on PRD language and v1 scope), and Status (specified)\n   - Write a clear, testable description — someone should be able to write a test from the requirement alone\n\n3. **Fill behavior section** — Add state diagrams (Mermaid), interaction sequences, or behavioral descriptions where the requirements involve state transitions or multi-step flows.\n\n4. **Populate open questions** — Pull relevant items from PRD §14 (Open Items) and §15 (Day 1 Questions). Add any ambiguities discovered during extraction.\n\n5. **Identify coverage gaps** — Note areas where the PRD is silent but the module clearly needs specification. These become questions for /conceive sessions.\n\n6. **Update downstream references** — Verify code and test directory paths are accurate for implemented features.\n\n7. **Update status** — Change module status from skeleton to partial (or complete if fully specified).\n\n8. **Update index.md** — Update the modules status and requirement count in docs/2-spec/index.md.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T18:42:41.763131-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T18:42:41.763131-08:00","labels":["pipeline","spec"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-yfc","depends_on_id":"the-tavern-at-the-spillway-vpn","type":"parent-child","created_at":"2026-02-07T18:42:41.765022-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-yte","title":"Token budget and cost visibility — per-agent budgets and spend tracking","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTrack token spend across agents, set budgets, know which tasks are expensive vs cheap. Token budget exceeded is a fish-or-cut-bait trigger. Parent specifies token budget at spawn time.\n\nSources: PRD section 6.2 (Agent Spawn Configuration - token budget), PRD section 12 (Fish or Cut Bait - budget exceeded), notes_issues-to-plan-for item 3 (Cost visibility).\n\nKey questions: How does ClodeMonster SDK expose token usage? Budget per agent or per tree? What happens at budget limit — hard stop or warning? How does cost roll up to parent?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:04.83364-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:04.83364-08:00","labels":["agents","metrics","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-yte","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.649756-08:00","created_by":"Yaakov M Nemoy"},{"issue_id":"the-tavern-at-the-spillway-yte","depends_on_id":"the-tavern-at-the-spillway-vpv","type":"relates-to","created_at":"2026-02-07T19:47:11.931283-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-zjp","title":"/compact — compact context","description":"Implement /compact command that triggers SDK context compaction. Shows confirmation and result.","acceptance_criteria":"/compact triggers context compaction via SDK. Result communicated to user.","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:45:37.437859-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:45:37.437859-08:00","labels":["commands","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-zjp","depends_on_id":"the-tavern-at-the-spillway-cxg","type":"parent-child","created_at":"2026-02-07T19:45:37.439709-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-zka","title":"Inline diff rendering for file edits","description":"When tool results contain file edit diffs, render them as inline diffs with add/remove line highlighting (green/red). Similar to GitHub diff view.","acceptance_criteria":"File edit diffs render with syntax-highlighted add/remove lines. Readable and clearly shows what changed.","status":"open","priority":2,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-07T19:44:51.578319-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-07T19:44:51.578319-08:00","labels":["chat","ui","v1"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-zka","depends_on_id":"the-tavern-at-the-spillway-hq1","type":"parent-child","created_at":"2026-02-07T19:44:51.580601-08:00","created_by":"Yaakov M Nemoy"}]}
