{"id":"the-tavern-at-the-spillway-0fi","title":"Hygiene daemons — cleanup of dead agents, stale overlays, orphaned resources","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDaemons handle cleanup: dead agents, old changesets, stale overlays, orphaned workflows/documents/resources. Initially manual cleanup, sophisticated reaping later.\n\nSources: PRD section 6.6 (Hygiene), reader section 8 (Dead Agents Leave Bodies).\n\nKey questions: What triggers cleanup — periodic or event-driven? What is the retention policy for dead agents? How long do bodies persist? Is this a monitor daemon or separate system?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:12.70872-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:12.70872-08:00","labels":["agents","lifecycle","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0fi","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.71422-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0o6","title":"Inter-agent message storage — messaging infrastructure in doc store","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDoc store serves as messaging system (with supporting daemons). Need message storage, routing, delivery confirmation. Messages between agents stored in doc store files.\n\nSources: reader section 7 (Document Store as messaging system), project-status.md Doc Store Remaining (Inter-agent message storage), reader section 9 (Communication Patterns).\n\nKey questions: Message format (markdown? structured data?)? One file per message or conversation log? How does delivery confirmation work? Ordering guarantees? TTL for messages?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:12.871482-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:12.871482-08:00","labels":["communication","docstore","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0o6","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.834036-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0ps","title":"Discovery sharing — agents noticing and reporting oddities","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents (even drones) prompted to notice oddities and share them via messaging while continuing main task. Cannot enforce via deterministic hook — relies on prompt engineering encouraging curiosity and social behavior.\n\nSources: PRD section 9.3 (Discovery Sharing).\n\nKey questions: What message format for discoveries? Where are they stored — doc store, separate log? How does user review discoveries? Priority of discoveries vs main task?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:41.894913-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:41.894913-08:00","labels":["agents","communication","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0ps","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.71928-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-0xr","title":"Calling and hanging up — user joining/leaving agent sessions","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWhen user zooms into an agent, system injects a calling message. When user zooms out, agent receives hanging up message and knows not to pause for interaction. This toggles between chat mode (active conversation) and perseverance mode (background).\n\nSources: reader section 4 (Zooming In and Out), PRD section 5.2 (Calling and Hanging Up), reader open question ?6.\n\nKey questions: What does the injected message look like? Is it a tool call or a text message? Does the agent acknowledge? What happens if user calls while agent is mid-response?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.609934-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.609934-08:00","labels":["agents","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-0xr","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.887603-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-15i","title":"Plugin system — closed set of agent types and spawners","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nPlugins registered at startup, not dynamically loaded. All agent types known at compile time. This provides security, simplicity, and type safety. Need a registration mechanism for agent types and their spawners.\n\nSources: ADR-001 shape I (Plugin), reader section 5 Architecture Notes, CLAUDE.md Architecture Principles (Closed Plugin Set), project-status.md Architecture Remaining.\n\nKey questions: What agent types exist beyond Jake and MortalAgent? How does registration work? Is this a protocol + registry pattern? How do Gang of Experts fit in?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:08.816621-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:08.816621-08:00","labels":["architecture","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-15i","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.128179-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-28x","title":"Saved layouts — named templates and concrete snapshots","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTwo types of saved layouts: abstract templates (structure without specific agents) and concrete snapshots (specific agents, specific state). Session restore is automatic; saved layouts are intentional.\n\nSources: reader section 8 (Persistence), project-status.md Dynamic View Architecture Remaining, transcript_2026-01-21-2345.\n\nKey questions: Storage format? Template vs snapshot distinction in practice? How does a template get populated with real agents? Can layouts be shared via .tavern/?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.541266-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.541266-08:00","labels":["persistence","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-28x","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.229302-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2bc","title":"Background agent execution — autonomous work without user focus","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Agents should be able to work autonomously in the background while the user focuses elsewhere. Currently agents only respond to direct messages. Background execution enables the full multi-agent vision where many agents work in parallel. Related beads: sidecar pattern (vfx) provides the I/O architecture, perseverance mode (pbt) covers retry/lifecycle, but neither explicitly covers the user-facing concept of agents working while you do other things. Sources: CLAUDE.md Not Implemented, PRD section on agent lifecycle, reader section 3. Key questions: What triggers background work? Task queue? Parent agent delegation? How does the user know background work is happening? Notification when done? How does this interact with token budgets (yte)?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:55:04.313536-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:04.313536-08:00","labels":["agents","core","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2bc","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:55:04.316073-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-2ni","title":"Violation monitoring — configurable per-agent rules and enforcement","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDynamic violation list configurable per-project or per-agent. Examples: modifying files outside designated directories, exceeding token budgets, spawning more than N children, accessing network when disallowed, running commands on blocklist. When detected: log, notify parent/user, optionally pause/reap/warn.\n\nSources: PRD section 16 (Violation Monitoring).\n\nKey questions: How are rules specified (config file, code, both)? Real-time monitoring or post-hoc? What is the enforcement mechanism — hooks, sandbox, or agent-level checks? Agents cannot modify their own violation rules — how is this enforced?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.200527-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.200527-08:00","labels":["agents","safety","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-2ni","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.176284-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-5ft","title":"iCloud personal state storage — sync preferences across machines","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nPersonal state (session IDs, window positions, persisted agent list) currently in UserDefaults. Could sync via iCloud for cross-machine continuity.\n\nSources: project-status.md Document-Based Architecture Remaining, reader section 7 (Session Storage Layers - layer 3).\n\nKey questions: What state is worth syncing? iCloud KV store vs CloudKit? Conflict resolution? Does this conflict with the known iCloud corruption issue with Xcode projects?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:13.028749-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:13.028749-08:00","labels":["persistence","tavern","ux"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-5ft","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.9546-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-6ap","title":"Resource panel / file viewer — IDE-lite right-side panel","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nRight-side panel showing file tree, file contents, and diffs alongside chat. Goal: make Tavern usable as a standalone dev environment at v1.5 without needing a separate IDE.\n\nSources: resource-viewer session (Feb 6), ideation for resource panel feature.\n\nKey questions: What file types need rendering? Syntax highlighting approach? How do agent file changes surface in the panel? Read-only or editable? How does this interact with the doc store / shared workspace pattern?","status":"closed","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:32.32481-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:21.367294-08:00","closed_at":"2026-02-06T17:55:21.367294-08:00","close_reason":"Duplicate of the-tavern-at-the-spillway-my4","labels":["tavern","ui","v1.5"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-6ap","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:32.327648-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-6up","title":"Self-improvement — measurement, workflow evolution, meta process","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nNo self-improvement exists currently. Options range from better logging to ML-based prompt optimization to evolutionary workflow design. Meta process: decision layer for selecting which workflows/tools to use for a given task.\n\nSources: reader open question ?3 (Self Improvement Definition), PRD section 9.2 (Meta Process), notes_issues-to-plan-for item 5 (No self-improvement).\n\nKey questions: What does self-improvement mean concretely for v1? Performance tracking and manual adjustment? Automated A/B testing of prompts? Learning from successful vs failed agent runs?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.529093-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.529093-08:00","labels":["meta","observability","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-6up","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.454708-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7dg","title":"Programmatic GUI testing — XCTest UI and log-based verification","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nNeed programmatic GUI testing infrastructure. Headless testing philosophy: tests run without human interaction, end-to-end over stubs, testing strategy IS debugging strategy. Also need log-based automated verification and performance regression baselines.\n\nSources: transcript_2026-01-23-headless-testing, project-status.md Build and Testing Remaining, PRD section 17 (Testability Requirements).\n\nKey questions: XCTest UI vs alternative? How to headlessly test SwiftUI views? Baseline methodology? Integration with redo build system?","status":"open","priority":3,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.852192-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.852192-08:00","labels":["infrastructure","tavern","testing"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7dg","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.47686-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7g6","title":"Streaming responses — replace batch-only with real-time UI","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Currently Jake and mortal agents return batch responses only. Need real-time streaming to the UI with typewriter effect. The SDK (ClodeMonster) returns ClaudeQuery as AsyncSequence of StdoutMessage, which supports streaming. Sources: CLAUDE.md Not Implemented, project-status.md Chat and UI Remaining, PRD section 5.1, transcript_2026-01-24-async-primitives (AsyncStream strategy). Key questions: What does the streaming UI look like? Typewriter per-character or per-token? How do content blocks (thinking, tool_use) render during streaming? How does this interact with the batching strategy?","status":"open","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:58:26.071687-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:58:26.071687-08:00","labels":["core","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7g6","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T22:59:07.850441-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-7ou","title":"User consent for new chats — concrete consent UX","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nPRD invariant 4: User attention is sacred. Never force new content on user without consent. What does 100% clear theyre OK with it mean concretely? User preference settings? Contextual inference? Per-agent consent?\n\nSources: reader open question ?7 (User Consent for New Chats), PRD invariant 4.\n\nKey questions: Settings panel for notification preferences? Auto-accept from Jake but confirm from others? Context-dependent (during active session vs background)? How does this interact with bubbling?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:42.050942-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:42.050942-08:00","labels":["tavern","ui","ux"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-7ou","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.845812-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-84c","title":"Inter-agent communication — bubbling, lateral messaging, direct-to-user","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents need to communicate: upward (child to parent to user), laterally (siblings collaborating), and directly to user (with oversight). Currently no inter-agent messaging exists.\n\nSources: reader section 3 (Bubbling), reader section 9 (Agent Communication, Message Protocol), reader open question ?5 (Bubbling Up Process), PRD section 5.3 (Bubbling), notes_issues-to-plan-for item 1 (Context handoff).\n\nKey questions: Does child ask parent who decides to escalate? Can messages skip levels? Is there prioritization? How does lateral collaboration work concretely? What is stored in doc store vs ephemeral?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.450796-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.450796-08:00","labels":["agents","communication","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-84c","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.76542-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-8wt","title":"Drones and monitor daemons — lightweight agent types","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDrones: Meeseeks-style single-task agents. One task then terminate. Cheap models, cheap to fail. Monitor Daemons: background agents that work for Jake, monitoring health/progress/spending.\n\nSources: PRD section 4.1 (Agent Types table), PRD section 6.6 (Hygiene), reader section 3.\n\nKey questions: What model for drones (Haiku)? What triggers drone creation? What do monitor daemons actually monitor? How do drones differ from Task subagents? Cost model for drones?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:46.67402-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:46.67402-08:00","labels":["agents","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-8wt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.126097-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-96m","title":"SDK testing strategy — restore testability after ClodeMonster migration","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nClodeMonster SDK uses static functions (ClaudeCode.query) with no dependency injection point. Multiple test files have TODO comments: 'These tests need dependency injection or SDK mocking to work.' Affects: JakeTests, ChatViewModelTests, ServitorTests, TavernCoordinatorTests, ChatStressTests, ConcurrencyStressTests, SDKDiagnosticTests.\n\nSources: All TODO comments in Tests/**/*.swift, transcript_2026-02-01-sdk-migration-and-session-forensics (testing impact section), reader section 5 SDK Migration.\n\nKey questions: Protocol wrapper around static SDK? Test-only subclass? Process-level mocking? Do we push upstream for DI support in ClodeMonster?","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:30.082859-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:30.082859-08:00","labels":["sdk","tavern","testing"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-96m","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.38992-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-9f9","title":"Work queues — drone dispatch and queue mechanics in doc store","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWork queues live in the document store. When items appear, drones fire immediately. Agents attach at spawn or mid-task. Need: queue creation, item addition, drone dispatch, empty-queue instructions (idle, hibernate, terminate).\n\nSources: reader section 7 (Document Store as work queues), reader open question ?19 (Work Queues), PRD section 6.3 (Work Queues), project-status.md Doc Store Remaining.\n\nKey questions: Full specification of queue mechanics? Priorities and dependencies within queues? File format for queue items? How does drone dispatch work — filesystem watcher or polling?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:09.158029-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:09.158029-08:00","labels":["agents","docstore","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-9f9","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.369908-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-an7","title":"Component-based chat views — thinking, tools, text as separate renderers","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Render different message content types (thinking blocks, tool_use blocks, text responses) as separate SwiftUI components within the chat view. Distinct from tile layout (coj) which is about window-level arrangement — this is about rendering within a single chat. Sources: reader_2026-02-05 Section 9 UI Concepts (component-based chat views TBD), MessageType enum already exists in codebase. Key questions: What does each content block type look like visually? Collapsible thinking blocks? Tool use as inline cards? How does this interact with streaming (7g6)? Does the existing MessageType enum cover all needed cases?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:55:01.941343-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:01.941343-08:00","labels":["chat","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-an7","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:55:01.94345-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ate","title":"Test dep","status":"closed","priority":4,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:58:43.288406-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:29.57559-08:00","closed_at":"2026-02-05T22:59:29.57559-08:00","close_reason":"test bead"}
{"id":"the-tavern-at-the-spillway-azu","title":"Tavern Feature Backlog — Mined from Transcripts \u0026 Sessions","description":"Comprehensive backlog mined from all 29 seed-design transcripts, session logs, PRD, implementation plan, project status, open questions, and code TODOs. EVERY ITEM IN THIS EPIC IS A STARTING POINT FOR DISCUSSION WITH THE USER — not a final, clearly defined task. Each bead captures the raw material and source references. Discuss with the user before promoting any item to a real work item.","design":"Items extracted from: reader_2026-02-05.md (synthesized transcripts), prd_2026-01-19.md, v1-implementation-plan.md, project-status.md, notes_issues-to-plan-for_2026-01-19-1031.md, code TODOs, handoff-apostrophe-bug.md. Grouped by functional area.","acceptance_criteria":"All identified potential work items captured. Each one references source material. User has reviewed and triaged.","status":"open","priority":2,"issue_type":"epic","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:57:53.711069-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:57:53.711069-08:00","labels":["backlog","tavern","triage"]}
{"id":"the-tavern-at-the-spillway-azy","title":"Formal spec pipeline — incremental document propagation","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Build a formal specification pipeline: transcripts -\u003e PRD -\u003e specs -\u003e ADRs -\u003e code -\u003e tests -\u003e docs. Each downstream artifact derives from upstream, with incremental updates when upstream changes and completeness verification at each stage. Sources: formal-spec session (Feb 6). Key questions: What tooling drives the pipeline? Manual slash commands or automated? How is completeness verified? How do we track which upstream changes have propagated? Is this a dev-time tool or part of the Tavern app itself?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:58.04819-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:58.04819-08:00","labels":["process","tavern","tooling"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-azy","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:58.05285-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-bly","title":"Fish-or-cut-bait — kill and restart triggers for agents","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTriggers to kill and restart rather than continue: token budget exceeded, changeset is totally wrong, agent spinning, whole gang going down wrong path. Reap and restart cleanly.\n\nSources: PRD section 12 (Fish or Cut Bait), PRD section 4.2 (Failed/Reaped state).\n\nKey questions: Who decides to fish-or-cut-bait — parent, Jake, or user? Automatic detection of spinning? What does restart look like — same assignment fresh context? How does this relate to agent hierarchy (reap subtree vs individual)?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:05.01916-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:05.01916-08:00","labels":["agents","lifecycle","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-bly","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.782421-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-c8s","title":"Workflow engine — state machine templates and composable workflows","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWorkflow = state machine. Engine helps agents work step by step. Starter templates: Rule of 5 (five agent passes over single output), Verification Layers (progressive gates: lint, structure, architecture, performance). User can modify. Agents can propose new templates.\n\nSources: PRD sections 10 (Workflows), reader section 7 (Workflow Engine), reader open question ?2 (Deterministic Shell Meaning).\n\nKey questions: What is the workflow DSL/format? How do workflows compose? What is the state machine representation? How do verification layers gate progression? Template storage location?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.030078-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.030078-08:00","labels":["architecture","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-c8s","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.045854-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-clt","title":"Metrics and telemetry — token time, utilization, saturation, amplification","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTime categories: token time (waiting for LLM), tool time (execution), wall clock (total), throttle time (excluded). Agent metrics: utilization, saturation, wait time. Human metrics: wait time, context switching load. Primary measure: amplification (saturated agents running concurrently).\n\nSources: PRD section 9 (Metrics).\n\nKey questions: Where are metrics stored? Real-time dashboard or post-hoc analysis? How does amplification factor display in UI? Per-session or per-project metrics? Baselines and alerting?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:04.635957-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:04.635957-08:00","labels":["metrics","observability","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-clt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.52061-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-coj","title":"Composable tile view system — tiles, layout mutation, view modes","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nThe view layer should be a composable surface reshaped by both user AND agents. Tiles within windows, view modes (like Finder list/icon/column views), multiple views of same agent, dead agent bodies (tiles persist for review), saved layouts (templates vs snapshots).\n\nSources: reader section 8 (Dynamic View Architecture), transcript_2026-01-21-2345, transcript_2026-01-22-0730-view-architecture, project-status.md Dynamic View Architecture Remaining.\n\nKey questions: What tile primitives exist? How does split/merge work? What SwiftUI layout patterns? How do agents propose vs mutate layouts (two permission levels)? What does tree folding look like?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:27.752253-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:27.752253-08:00","labels":["tavern","ui","views"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-coj","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.496135-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-dd4","title":"Real commitment verification — replace mock assertions","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCommitment verification currently uses mock runners. Need real deterministic verification: test suite passes, lint passes, code structure checks, etc. PRD invariant 3: Commitments must be verified independently.\n\nSources: CLAUDE.md Not Implemented, project-status.md Commitments Remaining, PRD section 4.7 (Deterministic Shell, Commitment flow), reader open question ?4 (Agent Done Assertion).\n\nKey questions: What does a real assertion look like? Shell commands? Swift test runner? How does agent-says-done verification work with real tooling? Is verification synchronous or async? Who decides the assertion — parent, agent, or user?","status":"open","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:29.916085-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:29.916085-08:00","labels":["core","tavern","verification"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-dd4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.256321-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-dec","title":"ClodKit SDK migration — merge rename from ClodeMonster","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. The new-sdk branch (commit 6cac0f8) has a clean 1:1 rename from ClodeMonster to ClodKit across 13 files (52 insertions, 52 deletions). Needs merge to main + documentation updates in CLAUDE.md. Sources: new-sdk branch. Key questions: Is the ClodKit package published and stable? Any behavioral changes beyond the rename? Should we verify API compatibility before merging? Update all CLAUDE.md references to ClodKit?","status":"open","priority":1,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:59.810222-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:59.810222-08:00","labels":["migration","sdk","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-dec","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:59.812399-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-egf","title":"Doc store continuous sync — agents live-syncing state to files","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nDoc store CRUD exists but agents dont continuously sync state to their files. Need live sync so doc store remains the single source of truth (PRD invariant 5: if its not in a file, it doesnt exist).\n\nSources: project-status.md Doc Store Remaining, PRD section 4.5 (Doc Store), reader section 7 (Document Store).\n\nKey questions: What triggers a sync — every state change, or batched? How does this interact with the persistence context pattern? What about write conflicts from concurrent agents? SwiftUI observation patterns for doc store changes?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:08.988739-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:08.988739-08:00","labels":["docstore","persistence","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-egf","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.244767-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ejj","title":"Merge queue — coordinated changeset merging","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents queue up their changesets, see whats ahead, refine against predictable target, serialized merges, fewer conflicts.\n\nSources: PRD section 6.5 (Merge Queue), PRD v1 Deferred list.\n\nKey questions: How does this work without git worktrees (changesets are overlay-based)? What is the merge strategy? Conflict resolution — automatic or agent-assisted? Priority ordering in the queue?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:23.362814-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:23.362814-08:00","labels":["changesets","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-ejj","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.315089-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-gz4","title":"Agent reasoning visibility — why did it do that?","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nVisibility into agent reasoning, not just outputs. Understanding the chain of decisions when an agent goes off the rails. Postmortems are hard without this.\n\nSources: notes_issues-to-plan-for items 2 and 9 (Debugging failed runs, Why did it do that), PRD section 5.4 (Stream separation).\n\nKey questions: Is this just the thinking blocks rendered in UI? Or a separate reasoning trace? How does this work across agent hierarchies? Decision tree visualization? Post-hoc analysis vs real-time?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:41.735761-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:41.735761-08:00","labels":["observability","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-gz4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.588612-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-hu4","title":"Notification and attention routing — badges, priority, question triage","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nAgents need attention indicators: notification badges, priority routing (which agent needs user attention NOW), question triage (quick vs deep). Parent agents choose notification approach for children (popup vs periodic summary).\n\nSources: PRD section 5.5 (Question Triage), reader section 3 (Bubbling), project-status.md Chat and UI Remaining (Notification badges), notes_issues-to-plan-for item 4 (Priority/attention routing).\n\nKey questions: How are questions classified as quick vs deep? What determines priority? How does Jake surface which agent to zoom into? Badge count vs badge type?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:27.921718-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:27.921718-08:00","labels":["agents","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-hu4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.623149-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-igh","title":"Sandbox and changeset system — overlay filesystem, isolation, platforms","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nFive sandbox primitives: Changeset (overlay filesystem), Platform (Mac/container/cloud), Isolation (VM/container/OS sandbox), Outputs (network control), Software (OS choice). Source control is orthogonal to isolation. Changesets work across multiple repos.\n\nSources: reader section 6 (Sandbox and Isolation), PRD section 4.6, reader ?8 (partially resolved), project-status.md Sandbox and Changesets (nothing implemented yet).\n\nKey questions: Which primitive to implement first? How does overlay filesystem work on macOS (APFS snapshots? FUSE?)? Changeset review workflow? How do changesets compose across agents?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:46.510127-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:46.510127-08:00","labels":["architecture","sandbox","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-igh","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.993468-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-iln","title":"Gang of experts — specialized prompt templates for agent roles","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nSpecialized prompts applied to agents (not persistent entities): Reviewer, Tester, Architect, etc. Pull in the reviewer = spawn agent with reviewer instructions. User can customize.\n\nSources: PRD section 11 (Gang of Experts).\n\nKey questions: What expert roles to start with? How are prompts composed (system prompt + expert prompt + assignment)? Can experts be combined? Where are expert templates stored (.tavern/ vs bundled)?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:46.841474-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:46.841474-08:00","labels":["agents","prompts","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-iln","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.252827-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-iy1","title":"ClodeMonster SDK apostrophe bug — shell escaping in ProcessTransport","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nApostrophes in --system-prompt cause 60-second timeouts. Root cause: ProcessTransport.swift:171 passes command string to zsh -l -c, breaking shell parsing. Workaround applied: all apostrophes removed from Jakes system prompt.\n\nSources: docs/handoff-apostrophe-bug.md (full reproduction, root cause, fix options).\n\nKey questions: File upstream bug with ClodeMonster? Fix locally? Monitor for SDK update that fixes this? Remove workaround when fixed?","status":"open","priority":1,"issue_type":"bug","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:42.202214-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:42.202214-08:00","labels":["bug","sdk","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-iy1","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:26.971237-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-kaq","title":"Model selection per agent — Haiku for drones, Sonnet for coordinators, Opus for architects","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nParent specifies model when spawning child. Cheap models for cheap tasks (drones), capable models for complex work. Currently all agents use whatever the SDK defaults to.\n\nSources: PRD section 6.2 (Agent Spawn Configuration - model selection).\n\nKey questions: How does ClodeMonster SDK support model selection? Does model affect token budget? Can model be changed mid-session? What are the cost tradeoffs?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.390657-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.390657-08:00","labels":["agents","sdk","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-kaq","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.103223-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-l6g","title":"Session classification automation — design vs transcription vs implementation","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Create decision logic to automatically classify Claude sessions into categories: (a) design sessions with [U]/[C]/[T] exchanges that need transcripts, (b) transcription/meta sessions doing process work, (c) implementation sessions where commits suffice. Could use message frequency analysis, keyword detection, or other heuristics. Sources: transcript_2026-02-02 (Part 3, Transcription vs Design Sessions). Key questions: Is this a standalone tool or part of the audit system? What accuracy is acceptable? ML-based or heuristic? Does this feed into the formal spec pipeline? How does it handle sessions that span multiple categories?","status":"open","priority":3,"issue_type":"task","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:55:06.535613-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:55:06.535613-08:00","labels":["process","tavern","tooling"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-l6g","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:55:06.537978-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-my4","title":"Resource panel / file viewer — IDE-lite right-side panel","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work. Right-side panel showing file tree, file contents, and diffs alongside chat. Goal: make Tavern usable as a standalone dev environment at v1.5 without needing a separate IDE. Sources: resource-viewer session (Feb 6). Key questions: What file types need rendering? Syntax highlighting approach? How do agent file changes surface in the panel? Read-only or editable? How does this interact with the doc store / shared workspace pattern?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-06T17:54:48.855853-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:48.855853-08:00","labels":["tavern","ui","v1.5"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-my4","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-06T17:54:48.861718-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-nt2","title":"Rollback mechanism — undoing agent work cleanly","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nUndoing agent work that looked fine but wasnt. Git helps but isnt always clean. Especially important when agents work on actual files (pre-changeset).\n\nSources: notes_issues-to-plan-for item 8 (Rollback).\n\nKey questions: Git-based rollback vs custom undo? Per-agent commits? How does this interact with changesets when they exist? Rollback across multiple agents that collaborated?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:02:12.542559-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:02:12.542559-08:00","labels":["safety","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-nt2","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.596091-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-o0w","title":".tavern/ in-project shareable configuration","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nProjects should have a .tavern/ directory for shareable config: templates, agent definitions, workflow configs. This is version-controllable and separate from personal state (UserDefaults/iCloud).\n\nSources: reader section 7 (Session Storage Layers - layer 2), project-status.md Document-Based Architecture Remaining, PRD section 4.5.\n\nKey questions: What goes in .tavern/ vs UserDefaults? Config file format (YAML, JSON, TOML)? Agent definition format? Template structure? Should this be gitignored or committed?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:28.274424-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:28.274424-08:00","labels":["config","persistence","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-o0w","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.872015-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-ogs","title":"Context cards — quick context for jumping into agent conversations","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nQuick context cards for jumping into agent conversations: agent name, current assignment, status right now. Lets user switch contexts without reading full chat history.\n\nSources: reader section 8 (Context Cards), PRD section 5.2.\n\nKey questions: What exactly is shown? Just name/assignment/status or more? Is it a hover card, a sidebar panel, or inline in the agent list? Does it include recent messages summary?","status":"open","priority":3,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:28.100529-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:28.100529-08:00","labels":["tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-ogs","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.748831-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-p70","title":"Jake autonomous agent spawning via tool handler","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nJake currently responds in JSON format with spawn actions parsed by JSONActionHandler, but spawned agents use mock Claude (not real SDK calls). Need real Claude sessions for spawned agents so Jake can truly delegate work.\n\nSources: project-status.md Jake Remaining, CLAUDE.md Not Implemented (Real Claude for spawned agents), transcript_2026-01-28-jake-spawn-tool (JakeToolHandler protocol, continuation loop), reader section 3 (Two-Level Orchestration Model).\n\nKey questions: How does the real SDK session interact with the sidecar pattern? Token budget for spawned agents? What happens when spawned agent session times out or errors?","status":"open","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:29.752322-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:29.752322-08:00","labels":["agents","core","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-p70","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.122146-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-pbt","title":"Perseverance mode and agent lifecycle states","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nWhen agents stop, the system should auto-prompt them to continue (perseverance mode). Agents must explicitly use a tool to get user attention. Need full lifecycle state machine: Working, Waiting for Input, Waiting for Wakeup, Done, Failed/Reaped.\n\nSources: PRD section 4.2 (Agent States), PRD section 4.4 (Operating Modes), reader section 3 (Perseverance Mode vs Chat Mode), reader open question ?6 (Perseverance Prompts and Agent Lifecycle), project-status.md Agent Spawning Remaining.\n\nKey questions: What is a perseverance prompt exactly? What triggers transitions? How does this interact with token budgets? What is the wakeup mechanism?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.114999-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.114999-08:00","labels":["agents","lifecycle","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-pbt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.516486-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-thv","title":"Hierarchical agent trees — agents spawning children","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCurrently agents are flat (Jake spawns mortal agents). Design calls for Erlang-style arbitrary depth trees: mortal agents spawning children, children spawning grandchildren, etc. Tree management is synchronous within each actor.\n\nSources: reader section 3 (Mortal Agents, task modes), reader section 5 (Agent Hierarchy diagram), PRD section 4.1 (Agent Types), transcript_2026-01-21-2345 (Erlang-style depth), transcript_2026-01-25-0108 (Component Ownership Chain).\n\nKey questions: What does child agent spawning look like concretely? Same tool handler as Jake? How does tree management interact with the sidecar pattern? What about tree visualization in the UI?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:59:50.280475-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T22:59:50.280475-08:00","labels":["agents","architecture","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-thv","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:23.640637-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vfx","title":"Sidecar pattern — separate I/O actors per agent","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nEach agent needs two actor components: main actor (tree structure, never blocks) and sidecar actor (slow Anthropic I/O). Prevents thread pool starvation with concurrent agents. Global semaphore limits concurrent API calls (~10).\n\nSources: reader section 9 (Sidecar Pattern), ADR-001 shape L (Sidecar), transcript_2026-01-24-shape-selection, Architecture Principles in CLAUDE.md (Concurrency Rules).\n\nKey questions: How does the sidecar actor relate to Swift concurrency (actors)? What is the semaphore implementation? How does cancellation work across main/sidecar? Is the sidecar per-agent or shared?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:08.639987-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:08.639987-08:00","labels":["architecture","concurrency","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vfx","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:24.012353-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-vpt","title":"Rewind and branch — checkpoint, fork, and replay capability","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCheckpoint agent state, tweak prompt, fork new timeline. Works at both agent level and changeset level. Enables experimentation without losing prior work.\n\nSources: PRD section 13 (Rewind and Branch), PRD v1 Deferred list.\n\nKey questions: What is checkpointed — session state, doc store state, or both? How does forking work with Claude sessions (new session with context summary)? UI for browsing timelines? Storage cost of checkpoints?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:05.199059-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:05.199059-08:00","labels":["agents","tavern","workflow"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-vpt","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.911291-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-w3u","title":"Streaming responses — replace batch-only with real-time UI","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nCurrently Jake and mortal agents return batch responses only. Need real-time streaming to the UI with typewriter effect. The SDK (ClodeMonster) returns ClaudeQuery as AsyncSequence of StdoutMessage, which supports streaming.\n\nSources: CLAUDE.md 'Not Implemented', project-status.md Chat \u0026 UI Remaining, PRD section 5.1, transcript_2026-01-24-async-primitives (AsyncStream strategy), reader section 5 Architecture Notes (Async Primitive Strategy).\n\nKey questions: What does the streaming UI look like? Typewriter per-character or per-token? How do content blocks (thinking, tool_use) render during streaming? How does this interact with the batching strategy (collect(.byTime(..., .milliseconds(16))))?","status":"closed","priority":1,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T22:58:07.53562-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-06T17:54:27.604035-08:00","closed_at":"2026-02-06T17:54:27.604035-08:00","close_reason":"Duplicate of the-tavern-at-the-spillway-7g6","labels":["core","tavern","ui"]}
{"id":"the-tavern-at-the-spillway-wdk","title":"Preflight checks — spawn-time verification before agents start","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nEvery agent gets spawn-time verification: sandbox configured, access to required resources, no permissions prompts expected, external accounts authenticated. Failure = agent does not start, parent notified with reason. No degraded mode — pass/fail.\n\nSources: reader section 6 (Preflight Checks), PRD section 6.4 (Preflight Checks).\n\nKey questions: What checks are needed for v1 (no sandbox yet)? How are required resources specified? What does a failed preflight look like in the UI? Retry mechanism?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:59.695064-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:59.695064-08:00","labels":["agents","safety","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-wdk","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:27.357189-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-whf","title":"Progressive unlocks — engagement-based content revelation","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTrack message count. As count grows, unlock: more cogitating verbs, new naming themes, expanded Jake vocabulary, easter eggs. Subtle hints only — Jake doesnt announce unlocks, just starts using new words.\n\nSources: PRD section 8 (Progressive Unlocks), transcript_2026-01-21-1620 (progressive unlocks concept).\n\nKey questions: Per-project or global count? Linear or milestone-based? Where stored (doc store, UserDefaults)? Reset behavior? Can users prestige? What are the first unlock tiers?","status":"open","priority":4,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:00:47.006459-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:00:47.006459-08:00","labels":["engagement","tavern","ui"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-whf","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.384248-08:00","created_by":"Yaakov M Nemoy"}]}
{"id":"the-tavern-at-the-spillway-yte","title":"Token budget and cost visibility — per-agent budgets and spend tracking","description":"DISCUSSION STARTING POINT — not a final task. Discuss with user before promoting to real work.\n\nTrack token spend across agents, set budgets, know which tasks are expensive vs cheap. Token budget exceeded is a fish-or-cut-bait trigger. Parent specifies token budget at spawn time.\n\nSources: PRD section 6.2 (Agent Spawn Configuration - token budget), PRD section 12 (Fish or Cut Bait - budget exceeded), notes_issues-to-plan-for item 3 (Cost visibility).\n\nKey questions: How does ClodeMonster SDK expose token usage? Budget per agent or per tree? What happens at budget limit — hard stop or warning? How does cost roll up to parent?","status":"open","priority":2,"issue_type":"feature","owner":"git@yaakovnemoy.com","created_at":"2026-02-05T23:01:04.83364-08:00","created_by":"Yaakov M Nemoy","updated_at":"2026-02-05T23:01:04.83364-08:00","labels":["agents","metrics","tavern"],"dependencies":[{"issue_id":"the-tavern-at-the-spillway-yte","depends_on_id":"the-tavern-at-the-spillway-azu","type":"parent-child","created_at":"2026-02-05T23:02:25.649756-08:00","created_by":"Yaakov M Nemoy"}]}
